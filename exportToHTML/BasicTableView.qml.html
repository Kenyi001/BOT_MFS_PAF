<html>
<head>
<title>BasicTableView.qml</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #5f826b; font-style: italic;}
.s1 { color: #bcbec4;}
.s2 { color: #7a7e85;}
.s3 { color: #cf8e6d;}
.s4 { color: #2aacb8;}
.s5 { color: #bcbec4;}
.s6 { color: #6aab73;}
</style>
</head>
<body bgcolor="#1e1f22">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
BasicTableView.qml</font>
</center></td></tr></table>
<pre><span class="s0">/****************************************************************************</span>
<span class="s0">**</span>
<span class="s0">** Copyright (C) 2016 The Qt Company Ltd.</span>
<span class="s0">** Contact: https://www.qt.io/licensing/</span>
<span class="s0">**</span>
<span class="s0">** This file is part of the Qt Quick Controls module of the Qt Toolkit.</span>
<span class="s0">**</span>
<span class="s0">** $QT_BEGIN_LICENSE:LGPL$</span>
<span class="s0">** Commercial License Usage</span>
<span class="s0">** Licensees holding valid commercial Qt licenses may use this file in</span>
<span class="s0">** accordance with the commercial license agreement provided with the</span>
<span class="s0">** Software or, alternatively, in accordance with the terms contained in</span>
<span class="s0">** a written agreement between you and The Qt Company. For licensing terms</span>
<span class="s0">** and conditions see https://www.qt.io/terms-conditions. For further</span>
<span class="s0">** information use the contact form at https://www.qt.io/contact-us.</span>
<span class="s0">**</span>
<span class="s0">** GNU Lesser General Public License Usage</span>
<span class="s0">** Alternatively, this file may be used under the terms of the GNU Lesser</span>
<span class="s0">** General Public License version 3 as published by the Free Software</span>
<span class="s0">** Foundation and appearing in the file LICENSE.LGPL3 included in the</span>
<span class="s0">** packaging of this file. Please review the following information to</span>
<span class="s0">** ensure the GNU Lesser General Public License version 3 requirements</span>
<span class="s0">** will be met: https://www.gnu.org/licenses/lgpl-3.0.html.</span>
<span class="s0">**</span>
<span class="s0">** GNU General Public License Usage</span>
<span class="s0">** Alternatively, this file may be used under the terms of the GNU</span>
<span class="s0">** General Public License version 2.0 or (at your option) the GNU General</span>
<span class="s0">** Public license version 3 or any later version approved by the KDE Free</span>
<span class="s0">** Qt Foundation. The licenses are as published by the Free Software</span>
<span class="s0">** Foundation and appearing in the file LICENSE.GPL2 and LICENSE.GPL3</span>
<span class="s0">** included in the packaging of this file. Please review the following</span>
<span class="s0">** information to ensure the GNU General Public License requirements will</span>
<span class="s0">** be met: https://www.gnu.org/licenses/gpl-2.0.html and</span>
<span class="s0">** https://www.gnu.org/licenses/gpl-3.0.html.</span>
<span class="s0">**</span>
<span class="s0">** $QT_END_LICENSE$</span>
<span class="s0">**</span>
<span class="s0">****************************************************************************/</span>

<span class="s2">//</span>
<span class="s2">//  W A R N I N G</span>
<span class="s2">//  -------------</span>
<span class="s2">//</span>
<span class="s2">// This file is not part of the Qt API.  It exists purely as an</span>
<span class="s2">// implementation detail.  This file may change from version to</span>
<span class="s2">// version without notice, or even be removed.</span>
<span class="s2">//</span>
<span class="s2">// We mean it.</span>
<span class="s2">//</span>

<span class="s3">import </span><span class="s1">QtQml </span><span class="s4">2.14 </span><span class="s5">as </span><span class="s1">Qml</span>
<span class="s3">import </span><span class="s1">QtQuick </span><span class="s4">2.6</span>
<span class="s3">import </span><span class="s1">QtQuick</span><span class="s5">.</span><span class="s1">Controls </span><span class="s4">1.5</span>
<span class="s3">import </span><span class="s1">QtQuick</span><span class="s5">.</span><span class="s1">Controls</span><span class="s5">.</span><span class="s1">Private </span><span class="s4">1.0</span>
<span class="s3">import </span><span class="s1">QtQuick</span><span class="s5">.</span><span class="s1">Controls</span><span class="s5">.</span><span class="s1">Styles </span><span class="s4">1.2</span>
<span class="s3">import </span><span class="s1">QtQuick</span><span class="s5">.</span><span class="s1">Window </span><span class="s4">2.2</span>

<span class="s2">/*! 
    \qmltype BasicTableView 
    \qmlabstract 
    \inqmlmodule QtQuick.Controls.Private 
*/</span>

<span class="s1">ScrollView </span><span class="s5">{</span>
    <span class="s1">id</span><span class="s5">: </span><span class="s1">root</span>

    <span class="s2">/*! \qmlproperty bool BasicTableView::alternatingRowColors 
 
        This property is set to \c true if the view alternates the row color. 
        The default value is \c true. 
    */</span>
    <span class="s1">property bool alternatingRowColors</span><span class="s5">: </span><span class="s3">true</span>

    <span class="s2">/*! \qmlproperty bool BasicTableView::headerVisible 
 
        This property determines if the header is visible. 
        The default value is \c true. 
    */</span>
    <span class="s1">property bool headerVisible</span><span class="s5">: </span><span class="s3">true</span>

    <span class="s2">/*! \qmlproperty bool BasicTableView::backgroundVisible 
 
        This property determines if the background should be filled or not. 
 
        The default value is \c true. 
 
        \note The rowDelegate is not affected by this property 
    */</span>
    <span class="s1">property alias backgroundVisible</span><span class="s5">: </span><span class="s1">colorRect</span><span class="s5">.</span><span class="s1">visible</span>

    <span class="s2">/*! \qmlproperty Component BasicTableView::itemDelegate 
        \internal 
 
        Documentation differs between TableView and TreeView. 
        See qtquickcontrols-treeview.qdoc and qtquickcontrols-tableview.qdoc 
    */</span>
    <span class="s1">property Component itemDelegate</span><span class="s5">: </span><span class="s1">__style </span><span class="s5">? </span><span class="s1">__style</span><span class="s5">.</span><span class="s1">itemDelegate </span><span class="s5">: </span><span class="s3">null</span>

    <span class="s2">/*! \qmlproperty Component BasicTableView::rowDelegate 
 
        This property defines a delegate to draw a row. 
 
        In the row delegate you have access to the following special properties: 
        \list 
        \li  styleData.alternate - true when the row uses the alternate background color 
        \li  styleData.selected - true when the row is currently selected 
        \li  styleData.row - the index of the row 
        \li  styleData.hasActiveFocus - true when the row has focus (since QtQuick.Controls 1.3) 
        \li  styleData.pressed - true when the row is pressed (since QtQuick.Controls 1.3) 
        \endlist 
 
        \note For performance reasons, created delegates can be recycled 
        across multiple table rows. This implies that when you make use of implicit 
        properties such as \c styleData.row or \c model, these values can change 
        after the delegate has been constructed. This means that you should not assume 
        that content is fixed when \c Component.onCompleted is called, but instead rely on 
        bindings to such properties. 
    */</span>
    <span class="s1">property Component rowDelegate</span><span class="s5">: </span><span class="s1">__style </span><span class="s5">? </span><span class="s1">__style</span><span class="s5">.</span><span class="s1">rowDelegate </span><span class="s5">: </span><span class="s3">null</span>

    <span class="s2">/*! \qmlproperty Component BasicTableView::headerDelegate 
 
        This property defines a delegate to draw a header. 
 
        In the header delegate you have access to the following special properties: 
        \list 
        \li  styleData.value - the value or text for this item 
        \li  styleData.column - the index of the column 
        \li  styleData.pressed - true when the column is being pressed 
        \li  styleData.containsMouse - true when the column is under the mouse 
        \li  styleData.textAlignment - the horizontal text alignment of the column (since QtQuickControls 1.1) 
        \endlist 
    */</span>
    <span class="s1">property Component headerDelegate</span><span class="s5">: </span><span class="s1">__style </span><span class="s5">? </span><span class="s1">__style</span><span class="s5">.</span><span class="s1">headerDelegate </span><span class="s5">: </span><span class="s3">null</span>

    <span class="s2">/*! \qmlproperty int BasicTableView::sortIndicatorColumn 
 
        Index of the current sort column. 
        The default value is \c {0}. 
    */</span>
    <span class="s1">property int sortIndicatorColumn</span>

    <span class="s2">/*! \qmlproperty bool BasicTableView::sortIndicatorVisible 
 
        This property shows or hides the sort indicator 
        The default value is \c false. 
        \note The view itself does not sort the data. 
    */</span>
    <span class="s1">property bool sortIndicatorVisible</span><span class="s5">: </span><span class="s3">false</span>

    <span class="s2">/*! \qmlproperty enumeration BasicTableView::sortIndicatorOrder 
 
        This sets the sorting order of the sort indicator 
        The allowed values are: 
        \list 
        \li Qt.AscendingOrder - the default 
        \li Qt.DescendingOrder 
        \endlist 
    */</span>
    <span class="s1">property int sortIndicatorOrder</span><span class="s5">: </span><span class="s1">Qt</span><span class="s5">.</span><span class="s1">AscendingOrder</span>

    <span class="s2">/*! \qmlproperty Component BasicTableView::contentHeader 
        This is the content header of the view. 
    */</span>
    <span class="s1">property alias contentHeader</span><span class="s5">: </span><span class="s1">listView</span><span class="s5">.</span><span class="s1">header</span>

    <span class="s2">/*! \qmlproperty Component BasicTableView::contentFooter 
        This is the content footer of the view. 
    */</span>
    <span class="s1">property alias contentFooter</span><span class="s5">: </span><span class="s1">listView</span><span class="s5">.</span><span class="s1">footer</span>

    <span class="s2">/*! \qmlproperty int BasicTableView::columnCount 
        The current number of columns 
    */</span>
    <span class="s1">readonly property alias columnCount</span><span class="s5">: </span><span class="s1">columnModel</span><span class="s5">.</span><span class="s1">count</span>

    <span class="s2">/*! \qmlpropertygroup BasicTableView::section 
        \internal 
        \qmlproperty string BasicTableView::section.property 
        \qmlproperty enumeration BasicTableView::section.criteria 
        \qmlproperty Component BasicTableView::section.delegate 
        \qmlproperty enumeration BasicTableView::section.labelPositioning 
 
        Moved to the qdoc files to keep the grouped property layout. 
        See qtquickcontrols-treeview.qdoc and qtquickcontrols-tableview.qdoc 
    */</span>
    <span class="s1">property alias section</span><span class="s5">: </span><span class="s1">listView</span><span class="s5">.</span><span class="s1">section</span>

    <span class="s2">/*! 
        \qmlproperty enumeration BasicTableView::selectionMode 
        \since QtQuick.Controls 1.1 
 
        This enum indicates how the view responds to user selections: 
 
        The possible modes are: 
 
        \list 
 
        \li SelectionMode.NoSelection - Items cannot be selected. 
 
        \li SelectionMode.SingleSelection - When the user selects an item, 
            any already-selected item becomes unselected, and the user cannot 
            unselect the selected item. (Default) 
 
        \li SelectionMode.MultiSelection - When the user selects an item in the usual way, 
            the selection status of that item is toggled and the other items are left alone. 
 
        \li SelectionMode.ExtendedSelection - When the user selects an item in the usual way, 
            the selection is cleared and the new item selected. However, if the user presses the 
            Ctrl key when clicking on an item, the clicked item gets toggled and all other items 
            are left untouched. If the user presses the Shift key while clicking 
            on an item, all items between the current item and the clicked item are selected or unselected, 
            depending on the state of the clicked item. Multiple items can be selected by dragging the 
            mouse over them. 
 
        \li SelectionMode.ContiguousSelection - When the user selects an item in the usual way, 
            the selection is cleared and the new item selected. However, if the user presses the Shift key while 
            clicking on an item, all items between the current item and the clicked item are selected. 
 
        \endlist 
    */</span>
    <span class="s1">property int selectionMode</span><span class="s5">: </span><span class="s1">SelectionMode</span><span class="s5">.</span><span class="s1">SingleSelection</span>

    <span class="s2">/*! 
        \qmlmethod TableViewColumn BasicTableView::addColumn(object column) 
 
        Adds a \a column and returns the added column. 
 
        The \a column argument can be an instance of TableViewColumn, 
        or a Component. The component has to contain a TableViewColumn. 
        Otherwise  \c null is returned. 
    */</span>
    <span class="s3">function </span><span class="s1">addColumn</span><span class="s5">(</span><span class="s1">column</span><span class="s5">) {</span>
        <span class="s3">return </span><span class="s1">insertColumn</span><span class="s5">(</span><span class="s1">columnCount</span><span class="s5">, </span><span class="s1">column</span><span class="s5">)</span>
    <span class="s5">}</span>

    <span class="s2">/*! 
        \qmlmethod TableViewColumn BasicTableView::insertColumn(int index, object column) 
 
        Inserts a \a column at the given \a index and returns the inserted column. 
 
        The \a column argument can be an instance of TableViewColumn, 
        or a Component. The component has to contain a TableViewColumn. 
        Otherwise  \c null is returned. 
    */</span>
    <span class="s3">function </span><span class="s1">insertColumn</span><span class="s5">(</span><span class="s1">index</span><span class="s5">, </span><span class="s1">column</span><span class="s5">) {</span>
        <span class="s3">if </span><span class="s5">(</span><span class="s1">__isTreeView </span><span class="s5">&amp;&amp; </span><span class="s1">index </span><span class="s5">=== </span><span class="s4">0 </span><span class="s5">&amp;&amp; </span><span class="s1">columnCount </span><span class="s5">&gt; </span><span class="s4">0</span><span class="s5">) {</span>
            <span class="s1">console</span><span class="s5">.</span><span class="s1">warn</span><span class="s5">(</span><span class="s1">__viewTypeName </span><span class="s5">+ </span><span class="s6">&quot;::insertColumn(): Can't replace column 0&quot;</span><span class="s5">)</span>
            <span class="s3">return null</span>
        <span class="s5">}</span>
        <span class="s3">var </span><span class="s1">object </span><span class="s5">= </span><span class="s1">column</span>
        <span class="s3">if </span><span class="s5">(</span><span class="s3">typeof </span><span class="s1">column</span><span class="s5">[</span><span class="s6">'createObject'</span><span class="s5">] === </span><span class="s6">'function'</span><span class="s5">) {</span>
            <span class="s1">object </span><span class="s5">= </span><span class="s1">column</span><span class="s5">.</span><span class="s1">createObject</span><span class="s5">(</span><span class="s1">root</span><span class="s5">)</span>
        <span class="s5">} </span><span class="s3">else if </span><span class="s5">(</span><span class="s1">object</span><span class="s5">.</span><span class="s1">__view</span><span class="s5">) {</span>
            <span class="s1">console</span><span class="s5">.</span><span class="s1">warn</span><span class="s5">(</span><span class="s1">__viewTypeName </span><span class="s5">+ </span><span class="s6">&quot;::insertColumn(): you cannot add a column to multiple views&quot;</span><span class="s5">)</span>
            <span class="s3">return null</span>
        <span class="s5">}</span>
        <span class="s3">if </span><span class="s5">(</span><span class="s1">index </span><span class="s5">&gt;= </span><span class="s4">0 </span><span class="s5">&amp;&amp; </span><span class="s1">index </span><span class="s5">&lt;= </span><span class="s1">columnCount </span><span class="s5">&amp;&amp; </span><span class="s1">object</span><span class="s5">.</span><span class="s1">accessibleRole </span><span class="s5">=== </span><span class="s1">Accessible</span><span class="s5">.</span><span class="s1">ColumnHeader</span><span class="s5">) {</span>
            <span class="s1">object</span><span class="s5">.</span><span class="s1">__view </span><span class="s5">= </span><span class="s1">root</span>
            <span class="s1">columnModel</span><span class="s5">.</span><span class="s1">insert</span><span class="s5">(</span><span class="s1">index</span><span class="s5">, {</span><span class="s1">columnItem</span><span class="s5">: </span><span class="s1">object</span><span class="s5">})</span>
            <span class="s3">if </span><span class="s5">(</span><span class="s1">root</span><span class="s5">.</span><span class="s1">__columns</span><span class="s5">[</span><span class="s1">index</span><span class="s5">] !== </span><span class="s1">object</span><span class="s5">) {</span>
                <span class="s2">// The new column needs to be put into __columns at the specified index</span>
                <span class="s2">// so the list needs to be recreated to be correct</span>
                <span class="s3">var </span><span class="s1">arr </span><span class="s5">= []</span>
                <span class="s3">for </span><span class="s5">(</span><span class="s3">var </span><span class="s1">i </span><span class="s5">= </span><span class="s4">0</span><span class="s5">; </span><span class="s1">i </span><span class="s5">&lt; </span><span class="s1">index</span><span class="s5">; ++</span><span class="s1">i</span><span class="s5">)</span>
                    <span class="s1">arr</span><span class="s5">.</span><span class="s1">push</span><span class="s5">(</span><span class="s1">root</span><span class="s5">.</span><span class="s1">__columns</span><span class="s5">[</span><span class="s1">i</span><span class="s5">])</span>
                <span class="s1">arr</span><span class="s5">.</span><span class="s1">push</span><span class="s5">(</span><span class="s1">object</span><span class="s5">)</span>
                <span class="s3">for </span><span class="s5">(</span><span class="s1">i </span><span class="s5">= </span><span class="s1">index</span><span class="s5">; </span><span class="s1">i </span><span class="s5">&lt; </span><span class="s1">root</span><span class="s5">.</span><span class="s1">__columns</span><span class="s5">.</span><span class="s1">length</span><span class="s5">; ++</span><span class="s1">i</span><span class="s5">)</span>
                    <span class="s1">arr</span><span class="s5">.</span><span class="s1">push</span><span class="s5">(</span><span class="s1">root</span><span class="s5">.</span><span class="s1">__columns</span><span class="s5">[</span><span class="s1">i</span><span class="s5">])</span>
                <span class="s1">root</span><span class="s5">.</span><span class="s1">__columns </span><span class="s5">= </span><span class="s1">arr</span>
            <span class="s5">}</span>
            <span class="s3">return </span><span class="s1">object</span>
        <span class="s5">}</span>

        <span class="s3">if </span><span class="s5">(</span><span class="s1">object </span><span class="s5">!== </span><span class="s1">column</span><span class="s5">)</span>
            <span class="s1">object</span><span class="s5">.</span><span class="s1">destroy</span><span class="s5">()</span>
        <span class="s1">console</span><span class="s5">.</span><span class="s1">warn</span><span class="s5">(</span><span class="s1">__viewTypeName </span><span class="s5">+ </span><span class="s6">&quot;::insertColumn(): invalid argument&quot;</span><span class="s5">)</span>
        <span class="s3">return null</span>
    <span class="s5">}</span>

    <span class="s2">/*! 
        \qmlmethod void BasicTableView::removeColumn(int index) 
 
        Removes and destroys a column at the given \a index. 
    */</span>
    <span class="s3">function </span><span class="s1">removeColumn</span><span class="s5">(</span><span class="s1">index</span><span class="s5">) {</span>
        <span class="s3">if </span><span class="s5">(</span><span class="s1">index </span><span class="s5">&lt; </span><span class="s4">0 </span><span class="s5">|| </span><span class="s1">index </span><span class="s5">&gt;= </span><span class="s1">columnCount</span><span class="s5">) {</span>
            <span class="s1">console</span><span class="s5">.</span><span class="s1">warn</span><span class="s5">(</span><span class="s1">__viewTypeName </span><span class="s5">+ </span><span class="s6">&quot;::removeColumn(): invalid argument&quot;</span><span class="s5">)</span>
            <span class="s3">return</span>
        <span class="s5">}</span>
        <span class="s3">if </span><span class="s5">(</span><span class="s1">__isTreeView </span><span class="s5">&amp;&amp; </span><span class="s1">index </span><span class="s5">=== </span><span class="s4">0</span><span class="s5">) {</span>
            <span class="s1">console</span><span class="s5">.</span><span class="s1">warn</span><span class="s5">(</span><span class="s1">__viewTypeName </span><span class="s5">+ </span><span class="s6">&quot;::removeColumn(): Can't remove column 0&quot;</span><span class="s5">)</span>
            <span class="s3">return</span>
        <span class="s5">}</span>
        <span class="s3">var </span><span class="s1">column </span><span class="s5">= </span><span class="s1">columnModel</span><span class="s5">.</span><span class="s1">get</span><span class="s5">(</span><span class="s1">index</span><span class="s5">).</span><span class="s1">columnItem</span>
        <span class="s1">columnModel</span><span class="s5">.</span><span class="s1">remove</span><span class="s5">(</span><span class="s1">index</span><span class="s5">, </span><span class="s4">1</span><span class="s5">)</span>
        <span class="s1">column</span><span class="s5">.</span><span class="s1">destroy</span><span class="s5">()</span>
    <span class="s5">}</span>

    <span class="s2">/*! 
        \qmlmethod void BasicTableView::moveColumn(int from, int to) 
 
        Moves a column \a from index \a to another. 
    */</span>
    <span class="s3">function </span><span class="s1">moveColumn</span><span class="s5">(</span><span class="s1">from</span><span class="s5">, </span><span class="s1">to</span><span class="s5">) {</span>
        <span class="s3">if </span><span class="s5">(</span><span class="s1">from </span><span class="s5">&lt; </span><span class="s4">0 </span><span class="s5">|| </span><span class="s1">from </span><span class="s5">&gt;= </span><span class="s1">columnCount </span><span class="s5">|| </span><span class="s1">to </span><span class="s5">&lt; </span><span class="s4">0 </span><span class="s5">|| </span><span class="s1">to </span><span class="s5">&gt;= </span><span class="s1">columnCount</span><span class="s5">) {</span>
            <span class="s1">console</span><span class="s5">.</span><span class="s1">warn</span><span class="s5">(</span><span class="s1">__viewTypeName </span><span class="s5">+ </span><span class="s6">&quot;::moveColumn(): invalid argument&quot;</span><span class="s5">)</span>
            <span class="s3">return</span>
        <span class="s5">}</span>
        <span class="s3">if </span><span class="s5">(</span><span class="s1">__isTreeView </span><span class="s5">&amp;&amp; </span><span class="s1">to </span><span class="s5">=== </span><span class="s4">0</span><span class="s5">) {</span>
            <span class="s1">console</span><span class="s5">.</span><span class="s1">warn</span><span class="s5">(</span><span class="s1">__viewTypeName </span><span class="s5">+ </span><span class="s6">&quot;::moveColumn(): Can't move column 0&quot;</span><span class="s5">)</span>
            <span class="s3">return</span>
        <span class="s5">}</span>
        <span class="s3">if </span><span class="s5">(</span><span class="s1">sortIndicatorColumn </span><span class="s5">=== </span><span class="s1">from</span><span class="s5">)</span>
            <span class="s1">sortIndicatorColumn </span><span class="s5">= </span><span class="s1">to</span>
        <span class="s1">columnModel</span><span class="s5">.</span><span class="s1">move</span><span class="s5">(</span><span class="s1">from</span><span class="s5">, </span><span class="s1">to</span><span class="s5">, </span><span class="s4">1</span><span class="s5">)</span>
    <span class="s5">}</span>

    <span class="s2">/*! 
        \qmlmethod TableViewColumn BasicTableView::getColumn(int index) 
 
        Returns the column at the given \a index 
        or \c null if the \a index is invalid. 
    */</span>
    <span class="s3">function </span><span class="s1">getColumn</span><span class="s5">(</span><span class="s1">index</span><span class="s5">) {</span>
        <span class="s3">if </span><span class="s5">(</span><span class="s1">index </span><span class="s5">&lt; </span><span class="s4">0 </span><span class="s5">|| </span><span class="s1">index </span><span class="s5">&gt;= </span><span class="s1">columnCount</span><span class="s5">)</span>
            <span class="s3">return null</span>
        <span class="s3">return </span><span class="s1">columnModel</span><span class="s5">.</span><span class="s1">get</span><span class="s5">(</span><span class="s1">index</span><span class="s5">).</span><span class="s1">columnItem</span>
    <span class="s5">}</span>

    <span class="s2">/*! 
        \qmlmethod void BasicTableView::resizeColumnsToContents() 
 
        Resizes all columns to ensure that the column contents and the headers will fit. 
        \since QtQuick.Controls 1.2 
    */</span>
    <span class="s3">function </span><span class="s1">resizeColumnsToContents </span><span class="s5">() {</span>
        <span class="s3">for </span><span class="s5">(</span><span class="s3">var </span><span class="s1">i </span><span class="s5">= </span><span class="s4">0</span><span class="s5">; </span><span class="s1">i </span><span class="s5">&lt; </span><span class="s1">__columns</span><span class="s5">.</span><span class="s1">length</span><span class="s5">; ++</span><span class="s1">i</span><span class="s5">) {</span>
            <span class="s3">var </span><span class="s1">col </span><span class="s5">= </span><span class="s1">getColumn</span><span class="s5">(</span><span class="s1">i</span><span class="s5">)</span>
            <span class="s3">var </span><span class="s1">header </span><span class="s5">= </span><span class="s1">__listView</span><span class="s5">.</span><span class="s1">headerItem</span><span class="s5">.</span><span class="s1">headerRepeater</span><span class="s5">.</span><span class="s1">itemAt</span><span class="s5">(</span><span class="s1">i</span><span class="s5">)</span>
            <span class="s3">if </span><span class="s5">(</span><span class="s1">col</span><span class="s5">) {</span>
                <span class="s1">col</span><span class="s5">.</span><span class="s1">resizeToContents</span><span class="s5">()</span>
                <span class="s3">if </span><span class="s5">(</span><span class="s1">col</span><span class="s5">.</span><span class="s1">width </span><span class="s5">&lt; </span><span class="s1">header</span><span class="s5">.</span><span class="s1">implicitWidth</span><span class="s5">)</span>
                    <span class="s1">col</span><span class="s5">.</span><span class="s1">width </span><span class="s5">= </span><span class="s1">header</span><span class="s5">.</span><span class="s1">implicitWidth</span>
            <span class="s5">}</span>
        <span class="s5">}</span>
    <span class="s5">}</span>

    <span class="s2">// Internal stuff. Do not look</span>

    <span class="s1">Component</span><span class="s5">.</span><span class="s1">onCompleted</span><span class="s5">: {</span>
        <span class="s3">for </span><span class="s5">(</span><span class="s3">var </span><span class="s1">i </span><span class="s5">= </span><span class="s4">0</span><span class="s5">; </span><span class="s1">i </span><span class="s5">&lt; </span><span class="s1">__columns</span><span class="s5">.</span><span class="s1">length</span><span class="s5">; ++</span><span class="s1">i</span><span class="s5">) {</span>
            <span class="s3">var </span><span class="s1">column </span><span class="s5">= </span><span class="s1">__columns</span><span class="s5">[</span><span class="s1">i</span><span class="s5">]</span>
            <span class="s3">if </span><span class="s5">(</span><span class="s1">column</span><span class="s5">.</span><span class="s1">accessibleRole </span><span class="s5">=== </span><span class="s1">Accessible</span><span class="s5">.</span><span class="s1">ColumnHeader</span><span class="s5">)</span>
                <span class="s1">addColumn</span><span class="s5">(</span><span class="s1">column</span><span class="s5">)</span>
        <span class="s5">}</span>
    <span class="s5">}</span>

    <span class="s1">activeFocusOnTab</span><span class="s5">: </span><span class="s3">true</span>

    <span class="s1">implicitWidth</span><span class="s5">: </span><span class="s4">200</span>
    <span class="s1">implicitHeight</span><span class="s5">: </span><span class="s4">150</span>

    <span class="s1">frameVisible</span><span class="s5">: </span><span class="s3">true</span>
    <span class="s1">__scrollBarTopMargin</span><span class="s5">: </span><span class="s1">headerVisible </span><span class="s5">&amp;&amp; (</span><span class="s1">listView</span><span class="s5">.</span><span class="s1">transientScrollBars </span><span class="s5">|| </span><span class="s1">Qt</span><span class="s5">.</span><span class="s1">platform</span><span class="s5">.</span><span class="s1">os </span><span class="s5">=== </span><span class="s6">&quot;osx&quot;</span><span class="s5">)</span>
                          <span class="s5">? </span><span class="s1">listView</span><span class="s5">.</span><span class="s1">headerItem</span><span class="s5">.</span><span class="s1">height </span><span class="s5">: </span><span class="s4">0</span>

    <span class="s2">/*! \internal 
        Use this to display user-friendly messages in TableView and TreeView common functions. 
    */</span>
    <span class="s1">property string __viewTypeName</span>

    <span class="s2">/*! \internal */</span>
    <span class="s1">readonly property bool __isTreeView</span><span class="s5">: </span><span class="s1">__viewTypeName </span><span class="s5">=== </span><span class="s6">&quot;TreeView&quot;</span>

    <span class="s2">/*! \internal */</span>
    <span class="s3">default </span><span class="s1">property alias __columns</span><span class="s5">: </span><span class="s1">root</span><span class="s5">.</span><span class="s1">data</span>

    <span class="s2">/*! \internal */</span>
    <span class="s1">property alias __currentRowItem</span><span class="s5">: </span><span class="s1">listView</span><span class="s5">.</span><span class="s1">currentItem</span>

    <span class="s2">/*! \internal 
        This property is forwarded to TableView::currentRow, but not to any TreeView property. 
    */</span>
    <span class="s1">property alias __currentRow</span><span class="s5">: </span><span class="s1">listView</span><span class="s5">.</span><span class="s1">currentIndex</span>

    <span class="s2">/*! \internal */</span>
    <span class="s1">readonly property alias __listView</span><span class="s5">: </span><span class="s1">listView</span>

    <span class="s2">/*! \internal */</span>
    <span class="s1">property Component __itemDelegateLoader</span><span class="s5">: </span><span class="s3">null</span>

    <span class="s2">/*! \internal 
        Allows to override the model property in cases like TreeView, 
        where we want to use a proxy/adaptor model between the user's model 
        and whatever a ListView can swallow. 
    */</span>
    <span class="s1">property </span><span class="s3">var </span><span class="s1">__model</span>

    <span class="s2">/*! \internal */</span>
    <span class="s1">property bool __activateItemOnSingleClick</span><span class="s5">: </span><span class="s1">__style </span><span class="s5">? </span><span class="s1">__style</span><span class="s5">.</span><span class="s1">activateItemOnSingleClick </span><span class="s5">: </span><span class="s3">false</span>

    <span class="s2">/*! \internal */</span>
    <span class="s1">property Item __mouseArea</span>

    <span class="s1">ListView </span><span class="s5">{</span>
        <span class="s1">id</span><span class="s5">: </span><span class="s1">listView</span>
        <span class="s1">focus</span><span class="s5">: </span><span class="s3">true</span>
        <span class="s1">activeFocusOnTab</span><span class="s5">: </span><span class="s3">false</span>
        <span class="s1">Keys</span><span class="s5">.</span><span class="s1">forwardTo</span><span class="s5">: [</span><span class="s1">__mouseArea</span><span class="s5">]</span>
        <span class="s1">anchors</span><span class="s5">.</span><span class="s1">fill</span><span class="s5">: </span><span class="s1">parent</span>
        <span class="s1">contentWidth</span><span class="s5">: </span><span class="s1">headerItem</span><span class="s5">.</span><span class="s1">headerRow</span><span class="s5">.</span><span class="s1">width </span><span class="s5">+ </span><span class="s1">listView</span><span class="s5">.</span><span class="s1">vScrollbarPadding</span>
        <span class="s2">// ### FIXME Late configuration of the header item requires</span>
        <span class="s2">// this binding to get the header visible after creation</span>
        <span class="s1">contentY</span><span class="s5">: -</span><span class="s1">headerItem</span><span class="s5">.</span><span class="s1">height</span>

        <span class="s1">currentIndex</span><span class="s5">: -</span><span class="s4">1</span>
        <span class="s1">visible</span><span class="s5">: </span><span class="s1">columnCount </span><span class="s5">&gt; </span><span class="s4">0</span>
        <span class="s1">interactive</span><span class="s5">: </span><span class="s1">Settings</span><span class="s5">.</span><span class="s1">hasTouchScreen</span>
        <span class="s1">property </span><span class="s3">var </span><span class="s1">rowItemStack</span><span class="s5">: [] </span><span class="s2">// Used as a cache for rowDelegates</span>

        <span class="s1">readonly property bool transientScrollBars</span><span class="s5">: </span><span class="s1">__style </span><span class="s5">&amp;&amp; !!</span><span class="s1">__style</span><span class="s5">.</span><span class="s1">transientScrollBars</span>
        <span class="s1">readonly property real vScrollbarPadding</span><span class="s5">: </span><span class="s1">__scroller</span><span class="s5">.</span><span class="s1">verticalScrollBar</span><span class="s5">.</span><span class="s1">visible</span>
                                                  <span class="s5">&amp;&amp; !</span><span class="s1">transientScrollBars </span><span class="s5">&amp;&amp; </span><span class="s1">Qt</span><span class="s5">.</span><span class="s1">platform</span><span class="s5">.</span><span class="s1">os </span><span class="s5">=== </span><span class="s6">&quot;osx&quot; </span><span class="s5">?</span>
                                                  <span class="s1">__verticalScrollBar</span><span class="s5">.</span><span class="s1">width </span><span class="s5">+ </span><span class="s1">__scroller</span><span class="s5">.</span><span class="s1">scrollBarSpacing </span><span class="s5">+ </span><span class="s1">root</span><span class="s5">.</span><span class="s1">__style</span><span class="s5">.</span><span class="s1">padding</span><span class="s5">.</span><span class="s1">right </span><span class="s5">: </span><span class="s4">0</span>

        <span class="s1">Qml</span><span class="s5">.</span><span class="s1">Binding </span><span class="s5">{</span>
            <span class="s2">// On Mac, we reserve the vSB space in the contentItem because the vSB should</span>
            <span class="s2">// appear under the header. Unfortunately, the ListView header won't expand</span>
            <span class="s2">// beyond the ListView's boundaries, that's why we need to ressort to this.</span>
            <span class="s1">target</span><span class="s5">: </span><span class="s1">root</span><span class="s5">.</span><span class="s1">__scroller</span>
            <span class="s1">when</span><span class="s5">: </span><span class="s1">Qt</span><span class="s5">.</span><span class="s1">platform</span><span class="s5">.</span><span class="s1">os </span><span class="s5">=== </span><span class="s6">&quot;osx&quot;</span>
            <span class="s1">property</span><span class="s5">: </span><span class="s6">&quot;verticalScrollbarOffset&quot;</span>
            <span class="s1">value</span><span class="s5">: </span><span class="s4">0</span>
            <span class="s1">restoreMode</span><span class="s5">: </span><span class="s1">Binding</span><span class="s5">.</span><span class="s1">RestoreBinding</span>
        <span class="s5">}</span>

        <span class="s3">function </span><span class="s1">incrementCurrentIndexBlocking</span><span class="s5">() {</span>
            <span class="s3">var </span><span class="s1">oldIndex </span><span class="s5">= </span><span class="s1">__listView</span><span class="s5">.</span><span class="s1">currentIndex</span>
            <span class="s1">__scroller</span><span class="s5">.</span><span class="s1">blockUpdates </span><span class="s5">= </span><span class="s3">true</span><span class="s5">;</span>
            <span class="s1">incrementCurrentIndex</span><span class="s5">();</span>
            <span class="s1">__scroller</span><span class="s5">.</span><span class="s1">blockUpdates </span><span class="s5">= </span><span class="s3">false</span><span class="s5">;</span>
            <span class="s3">return </span><span class="s1">oldIndex </span><span class="s5">!== </span><span class="s1">__listView</span><span class="s5">.</span><span class="s1">currentIndex</span>
        <span class="s5">}</span>

        <span class="s3">function </span><span class="s1">decrementCurrentIndexBlocking</span><span class="s5">() {</span>
            <span class="s3">var </span><span class="s1">oldIndex </span><span class="s5">= </span><span class="s1">__listView</span><span class="s5">.</span><span class="s1">currentIndex</span>
            <span class="s1">__scroller</span><span class="s5">.</span><span class="s1">blockUpdates </span><span class="s5">= </span><span class="s3">true</span><span class="s5">;</span>
            <span class="s1">decrementCurrentIndex</span><span class="s5">();</span>
            <span class="s1">__scroller</span><span class="s5">.</span><span class="s1">blockUpdates </span><span class="s5">= </span><span class="s3">false</span><span class="s5">;</span>
            <span class="s3">return </span><span class="s1">oldIndex </span><span class="s5">!== </span><span class="s1">__listView</span><span class="s5">.</span><span class="s1">currentIndex</span>
        <span class="s5">}</span>

        <span class="s3">function </span><span class="s1">scrollIfNeeded</span><span class="s5">(</span><span class="s1">key</span><span class="s5">) {</span>
            <span class="s3">var </span><span class="s1">diff </span><span class="s5">= </span><span class="s1">key </span><span class="s5">=== </span><span class="s1">Qt</span><span class="s5">.</span><span class="s1">Key_PageDown </span><span class="s5">? </span><span class="s1">height </span><span class="s5">:</span>
                       <span class="s1">key </span><span class="s5">=== </span><span class="s1">Qt</span><span class="s5">.</span><span class="s1">Key_PageUp </span><span class="s5">? -</span><span class="s1">height </span><span class="s5">: </span><span class="s4">0</span>
            <span class="s3">if </span><span class="s5">(</span><span class="s1">diff </span><span class="s5">!== </span><span class="s4">0</span><span class="s5">)</span>
                <span class="s1">__verticalScrollBar</span><span class="s5">.</span><span class="s1">value </span><span class="s5">+= </span><span class="s1">diff</span>
        <span class="s5">}</span>

        <span class="s1">SystemPalette </span><span class="s5">{</span>
            <span class="s1">id</span><span class="s5">: </span><span class="s1">palette</span>
            <span class="s1">colorGroup</span><span class="s5">: </span><span class="s1">enabled </span><span class="s5">? </span><span class="s1">SystemPalette</span><span class="s5">.</span><span class="s1">Active </span><span class="s5">: </span><span class="s1">SystemPalette</span><span class="s5">.</span><span class="s1">Disabled</span>
        <span class="s5">}</span>

        <span class="s1">Rectangle </span><span class="s5">{</span>
            <span class="s1">id</span><span class="s5">: </span><span class="s1">colorRect</span>
            <span class="s1">parent</span><span class="s5">: </span><span class="s1">viewport</span>
            <span class="s1">anchors</span><span class="s5">.</span><span class="s1">fill</span><span class="s5">: </span><span class="s1">parent</span>
            <span class="s1">color</span><span class="s5">: </span><span class="s1">__style </span><span class="s5">? </span><span class="s1">__style</span><span class="s5">.</span><span class="s1">backgroundColor </span><span class="s5">: </span><span class="s1">palette</span><span class="s5">.</span><span class="s1">base</span>
            <span class="s1">z</span><span class="s5">: -</span><span class="s4">2</span>
        <span class="s5">}</span>

        <span class="s2">// Fills extra rows with alternate color</span>
        <span class="s1">Column </span><span class="s5">{</span>
            <span class="s1">id</span><span class="s5">: </span><span class="s1">rowfiller</span>
            <span class="s1">Loader </span><span class="s5">{</span>
                <span class="s1">id</span><span class="s5">: </span><span class="s1">rowSizeItem</span>
                <span class="s1">sourceComponent</span><span class="s5">: </span><span class="s1">root</span><span class="s5">.</span><span class="s1">rowDelegate</span>
                <span class="s1">visible</span><span class="s5">: </span><span class="s3">false</span>
                <span class="s1">property QtObject styleData</span><span class="s5">: </span><span class="s1">QtObject </span><span class="s5">{</span>
                    <span class="s1">property bool alternate</span><span class="s5">: </span><span class="s3">false</span>
                    <span class="s1">property bool selected</span><span class="s5">: </span><span class="s3">false</span>
                    <span class="s1">property bool hasActiveFocus</span><span class="s5">: </span><span class="s3">false</span>
                    <span class="s1">property bool pressed</span><span class="s5">: </span><span class="s3">false</span>
                <span class="s5">}</span>
            <span class="s5">}</span>
            <span class="s1">property int rowHeight</span><span class="s5">: </span><span class="s1">Math</span><span class="s5">.</span><span class="s1">floor</span><span class="s5">(</span><span class="s1">rowSizeItem</span><span class="s5">.</span><span class="s1">implicitHeight</span><span class="s5">)</span>
            <span class="s1">property int paddedRowCount</span><span class="s5">: </span><span class="s1">rowHeight </span><span class="s5">!= </span><span class="s4">0 </span><span class="s5">? </span><span class="s1">height</span><span class="s5">/</span><span class="s1">rowHeight </span><span class="s5">: </span><span class="s4">0</span>

            <span class="s1">y</span><span class="s5">: </span><span class="s1">listView</span><span class="s5">.</span><span class="s1">contentHeight </span><span class="s5">- </span><span class="s1">listView</span><span class="s5">.</span><span class="s1">contentY </span><span class="s5">+ </span><span class="s1">listView</span><span class="s5">.</span><span class="s1">originY</span>
            <span class="s1">width</span><span class="s5">: </span><span class="s1">parent</span><span class="s5">.</span><span class="s1">width</span>
            <span class="s1">visible</span><span class="s5">: </span><span class="s1">alternatingRowColors</span>
            <span class="s1">height</span><span class="s5">: </span><span class="s1">listView</span><span class="s5">.</span><span class="s1">model </span><span class="s5">&amp;&amp; </span><span class="s1">listView</span><span class="s5">.</span><span class="s1">model</span><span class="s5">.</span><span class="s1">count </span><span class="s5">? (</span><span class="s1">viewport</span><span class="s5">.</span><span class="s1">height </span><span class="s5">- </span><span class="s1">listView</span><span class="s5">.</span><span class="s1">contentHeight</span><span class="s5">) : </span><span class="s4">0</span>
            <span class="s1">Repeater </span><span class="s5">{</span>
                <span class="s1">model</span><span class="s5">: </span><span class="s1">visible </span><span class="s5">? </span><span class="s1">parent</span><span class="s5">.</span><span class="s1">paddedRowCount </span><span class="s5">: </span><span class="s4">0</span>
                <span class="s1">Loader </span><span class="s5">{</span>
                    <span class="s1">width</span><span class="s5">: </span><span class="s1">rowfiller</span><span class="s5">.</span><span class="s1">width</span>
                    <span class="s1">height</span><span class="s5">: </span><span class="s1">rowfiller</span><span class="s5">.</span><span class="s1">rowHeight</span>
                    <span class="s1">sourceComponent</span><span class="s5">: </span><span class="s1">root</span><span class="s5">.</span><span class="s1">rowDelegate</span>
                    <span class="s1">property QtObject styleData</span><span class="s5">: </span><span class="s1">QtObject </span><span class="s5">{</span>
                        <span class="s1">readonly property bool alternate</span><span class="s5">: (</span><span class="s1">index </span><span class="s5">+ </span><span class="s1">__listView</span><span class="s5">.</span><span class="s1">count</span><span class="s5">) % </span><span class="s4">2 </span><span class="s5">=== </span><span class="s4">1</span>
                        <span class="s1">readonly property bool selected</span><span class="s5">: </span><span class="s3">false</span>
                        <span class="s1">readonly property bool hasActiveFocus</span><span class="s5">: </span><span class="s3">false</span>
                        <span class="s1">readonly property bool pressed</span><span class="s5">: </span><span class="s3">false</span>
                    <span class="s5">}</span>
                    <span class="s1">readonly property </span><span class="s3">var </span><span class="s1">model</span><span class="s5">: </span><span class="s3">null</span>
                    <span class="s1">readonly property </span><span class="s3">var </span><span class="s1">modelData</span><span class="s5">: </span><span class="s3">null</span>
                <span class="s5">}</span>
            <span class="s5">}</span>
        <span class="s5">}</span>

        <span class="s1">ListModel </span><span class="s5">{</span>
            <span class="s1">id</span><span class="s5">: </span><span class="s1">columnModel</span>
        <span class="s5">}</span>

        <span class="s1">highlightFollowsCurrentItem</span><span class="s5">: </span><span class="s3">true</span>
        <span class="s1">model</span><span class="s5">: </span><span class="s1">root</span><span class="s5">.</span><span class="s1">__model</span>

        <span class="s1">delegate</span><span class="s5">: </span><span class="s1">FocusScope </span><span class="s5">{</span>
            <span class="s1">id</span><span class="s5">: </span><span class="s1">rowItemContainer</span>

            <span class="s1">activeFocusOnTab</span><span class="s5">: </span><span class="s3">false</span>
            <span class="s1">z</span><span class="s5">: </span><span class="s1">rowItem</span><span class="s5">.</span><span class="s1">activeFocus </span><span class="s5">? </span><span class="s4">0.7 </span><span class="s5">: </span><span class="s1">rowItem</span><span class="s5">.</span><span class="s1">itemSelected </span><span class="s5">? </span><span class="s4">0.5 </span><span class="s5">: </span><span class="s4">0</span>

            <span class="s1">property Item rowItem</span>
            <span class="s2">// We recycle instantiated row items to speed up list scrolling</span>

            <span class="s1">Component</span><span class="s5">.</span><span class="s1">onDestruction</span><span class="s5">: {</span>
                <span class="s2">// move the rowItem back in cache</span>
                <span class="s3">if </span><span class="s5">(</span><span class="s1">rowItem</span><span class="s5">) {</span>
                    <span class="s1">rowItem</span><span class="s5">.</span><span class="s1">visible </span><span class="s5">= </span><span class="s3">false</span><span class="s5">;</span>
                    <span class="s1">rowItem</span><span class="s5">.</span><span class="s1">parent </span><span class="s5">= </span><span class="s3">null</span><span class="s5">;</span>
                    <span class="s1">rowItem</span><span class="s5">.</span><span class="s1">rowIndex </span><span class="s5">= -</span><span class="s4">1</span><span class="s5">;</span>
                    <span class="s1">listView</span><span class="s5">.</span><span class="s1">rowItemStack</span><span class="s5">.</span><span class="s1">push</span><span class="s5">(</span><span class="s1">rowItem</span><span class="s5">); </span><span class="s2">// return rowItem to cache</span>
                <span class="s5">}</span>
            <span class="s5">}</span>

            <span class="s1">Component</span><span class="s5">.</span><span class="s1">onCompleted</span><span class="s5">: {</span>
                <span class="s2">// retrieve row item from cache</span>
                <span class="s3">if </span><span class="s5">(</span><span class="s1">listView</span><span class="s5">.</span><span class="s1">rowItemStack</span><span class="s5">.</span><span class="s1">length </span><span class="s5">&gt; </span><span class="s4">0</span><span class="s5">)</span>
                    <span class="s1">rowItem </span><span class="s5">= </span><span class="s1">listView</span><span class="s5">.</span><span class="s1">rowItemStack</span><span class="s5">.</span><span class="s1">pop</span><span class="s5">();</span>
                <span class="s3">else</span>
                    <span class="s1">rowItem </span><span class="s5">= </span><span class="s1">rowComponent</span><span class="s5">.</span><span class="s1">createObject</span><span class="s5">(</span><span class="s1">listView</span><span class="s5">);</span>

                <span class="s2">// Bind container to item size</span>
                <span class="s1">rowItemContainer</span><span class="s5">.</span><span class="s1">width </span><span class="s5">= </span><span class="s1">Qt</span><span class="s5">.</span><span class="s1">binding</span><span class="s5">( </span><span class="s3">function</span><span class="s5">() { </span><span class="s3">return </span><span class="s1">rowItem</span><span class="s5">.</span><span class="s1">width </span><span class="s5">});</span>
                <span class="s1">rowItemContainer</span><span class="s5">.</span><span class="s1">height </span><span class="s5">= </span><span class="s1">Qt</span><span class="s5">.</span><span class="s1">binding</span><span class="s5">( </span><span class="s3">function</span><span class="s5">() { </span><span class="s3">return </span><span class="s1">rowItem</span><span class="s5">.</span><span class="s1">height </span><span class="s5">});</span>

                <span class="s2">// Reassign row-specific bindings</span>
                <span class="s1">rowItem</span><span class="s5">.</span><span class="s1">rowIndex </span><span class="s5">= </span><span class="s1">Qt</span><span class="s5">.</span><span class="s1">binding</span><span class="s5">( </span><span class="s3">function</span><span class="s5">() { </span><span class="s3">return </span><span class="s1">model</span><span class="s5">.</span><span class="s1">index </span><span class="s5">});</span>
                <span class="s1">rowItem</span><span class="s5">.</span><span class="s1">itemModelData </span><span class="s5">= </span><span class="s1">Qt</span><span class="s5">.</span><span class="s1">binding</span><span class="s5">( </span><span class="s3">function</span><span class="s5">() { </span><span class="s3">return typeof </span><span class="s1">modelData </span><span class="s5">=== </span><span class="s6">&quot;undefined&quot; </span><span class="s5">? </span><span class="s3">null </span><span class="s5">: </span><span class="s1">modelData </span><span class="s5">});</span>
                <span class="s1">rowItem</span><span class="s5">.</span><span class="s1">itemModel </span><span class="s5">= </span><span class="s1">Qt</span><span class="s5">.</span><span class="s1">binding</span><span class="s5">( </span><span class="s3">function</span><span class="s5">() { </span><span class="s3">return </span><span class="s1">model </span><span class="s5">});</span>
                <span class="s1">rowItem</span><span class="s5">.</span><span class="s1">parent </span><span class="s5">= </span><span class="s1">rowItemContainer</span><span class="s5">;</span>
                <span class="s1">rowItem</span><span class="s5">.</span><span class="s1">visible </span><span class="s5">= </span><span class="s3">true</span><span class="s5">;</span>
            <span class="s5">}</span>
        <span class="s5">}</span>

        <span class="s1">Component </span><span class="s5">{</span>
            <span class="s1">id</span><span class="s5">: </span><span class="s1">rowComponent</span>

            <span class="s1">FocusScope </span><span class="s5">{</span>
                <span class="s1">id</span><span class="s5">: </span><span class="s1">rowitem</span>
                <span class="s1">visible</span><span class="s5">: </span><span class="s3">false</span>

                <span class="s1">property int rowIndex</span>
                <span class="s1">property </span><span class="s3">var </span><span class="s1">itemModelData</span>
                <span class="s1">property </span><span class="s3">var </span><span class="s1">itemModel</span>
                <span class="s1">property bool itemSelected</span><span class="s5">: </span><span class="s1">__mouseArea</span><span class="s5">.</span><span class="s1">selected</span><span class="s5">(</span><span class="s1">rowIndex</span><span class="s5">)</span>
                <span class="s1">property bool alternate</span><span class="s5">: </span><span class="s1">alternatingRowColors </span><span class="s5">&amp;&amp; </span><span class="s1">rowIndex </span><span class="s5">% </span><span class="s4">2 </span><span class="s5">=== </span><span class="s4">1</span>
                <span class="s1">readonly property color itemTextColor</span><span class="s5">: </span><span class="s1">itemSelected </span><span class="s5">? </span><span class="s1">__style</span><span class="s5">.</span><span class="s1">highlightedTextColor </span><span class="s5">: </span><span class="s1">__style</span><span class="s5">.</span><span class="s1">textColor</span>
                <span class="s1">property Item branchDecoration</span><span class="s5">: </span><span class="s3">null</span>

                <span class="s1">width</span><span class="s5">: </span><span class="s1">itemrow</span><span class="s5">.</span><span class="s1">width</span>
                <span class="s1">height</span><span class="s5">: </span><span class="s1">rowstyle</span><span class="s5">.</span><span class="s1">height</span>

                <span class="s1">onActiveFocusChanged</span><span class="s5">: {</span>
                    <span class="s3">if </span><span class="s5">(</span><span class="s1">activeFocus</span><span class="s5">)</span>
                        <span class="s1">listView</span><span class="s5">.</span><span class="s1">currentIndex </span><span class="s5">= </span><span class="s1">rowIndex</span>
                <span class="s5">}</span>

                <span class="s1">Loader </span><span class="s5">{</span>
                    <span class="s1">id</span><span class="s5">: </span><span class="s1">rowstyle</span>
                    <span class="s2">// row delegate</span>
                    <span class="s1">sourceComponent</span><span class="s5">: </span><span class="s1">rowitem</span><span class="s5">.</span><span class="s1">itemModel </span><span class="s5">!== </span><span class="s1">undefined </span><span class="s5">? </span><span class="s1">root</span><span class="s5">.</span><span class="s1">rowDelegate </span><span class="s5">: </span><span class="s3">null</span>
                    <span class="s2">// Row fills the view width regardless of item size</span>
                    <span class="s2">// But scrollbar should not adjust to it</span>
                    <span class="s1">height</span><span class="s5">: </span><span class="s1">item </span><span class="s5">? </span><span class="s1">item</span><span class="s5">.</span><span class="s1">height </span><span class="s5">: </span><span class="s4">16</span>
                    <span class="s1">width</span><span class="s5">: </span><span class="s1">parent</span><span class="s5">.</span><span class="s1">width </span><span class="s5">+ </span><span class="s1">__horizontalScrollBar</span><span class="s5">.</span><span class="s1">width</span>
                    <span class="s1">x</span><span class="s5">: </span><span class="s1">listView</span><span class="s5">.</span><span class="s1">contentX</span>

                    <span class="s2">// these properties are exposed to the row delegate</span>
                    <span class="s2">// Note: these properties should be mirrored in the row filler as well</span>
                    <span class="s1">property QtObject styleData</span><span class="s5">: </span><span class="s1">QtObject </span><span class="s5">{</span>
                        <span class="s1">readonly property int row</span><span class="s5">: </span><span class="s1">rowitem</span><span class="s5">.</span><span class="s1">rowIndex</span>
                        <span class="s1">readonly property bool alternate</span><span class="s5">: </span><span class="s1">rowitem</span><span class="s5">.</span><span class="s1">alternate</span>
                        <span class="s1">readonly property bool selected</span><span class="s5">: </span><span class="s1">rowitem</span><span class="s5">.</span><span class="s1">itemSelected</span>
                        <span class="s1">readonly property bool hasActiveFocus</span><span class="s5">: </span><span class="s1">rowitem</span><span class="s5">.</span><span class="s1">activeFocus</span>
                        <span class="s1">readonly property bool pressed</span><span class="s5">: </span><span class="s1">rowitem</span><span class="s5">.</span><span class="s1">rowIndex </span><span class="s5">=== </span><span class="s1">__mouseArea</span><span class="s5">.</span><span class="s1">pressedRow</span>
                    <span class="s5">}</span>
                    <span class="s1">readonly property </span><span class="s3">var </span><span class="s1">model</span><span class="s5">: </span><span class="s1">rowitem</span><span class="s5">.</span><span class="s1">itemModel</span>
                    <span class="s1">readonly property </span><span class="s3">var </span><span class="s1">modelData</span><span class="s5">: </span><span class="s1">rowitem</span><span class="s5">.</span><span class="s1">itemModelData</span>
                <span class="s5">}</span>
                <span class="s1">Row </span><span class="s5">{</span>
                    <span class="s1">id</span><span class="s5">: </span><span class="s1">itemrow</span>
                    <span class="s1">height</span><span class="s5">: </span><span class="s1">parent</span><span class="s5">.</span><span class="s1">height</span>
                    <span class="s1">Repeater </span><span class="s5">{</span>
                        <span class="s1">model</span><span class="s5">: </span><span class="s1">columnModel</span>

                        <span class="s1">delegate</span><span class="s5">: </span><span class="s1">__itemDelegateLoader</span>

                        <span class="s1">onItemAdded</span><span class="s5">: {</span>
                            <span class="s3">var </span><span class="s1">columnItem </span><span class="s5">= </span><span class="s1">columnModel</span><span class="s5">.</span><span class="s1">get</span><span class="s5">(</span><span class="s1">index</span><span class="s5">).</span><span class="s1">columnItem</span>
                            <span class="s1">item</span><span class="s5">.</span><span class="s1">__rowItem </span><span class="s5">= </span><span class="s1">rowitem</span>
                            <span class="s1">item</span><span class="s5">.</span><span class="s1">__column </span><span class="s5">= </span><span class="s1">columnItem</span>
                        <span class="s5">}</span>
                    <span class="s5">}</span>
                <span class="s5">}</span>
            <span class="s5">}</span>
        <span class="s5">}</span>

        <span class="s1">headerPositioning</span><span class="s5">: </span><span class="s1">ListView</span><span class="s5">.</span><span class="s1">OverlayHeader</span>
        <span class="s1">header</span><span class="s5">: </span><span class="s1">Item </span><span class="s5">{</span>
            <span class="s1">id</span><span class="s5">: </span><span class="s1">tableHeader</span>
            <span class="s1">visible</span><span class="s5">: </span><span class="s1">headerVisible</span>
            <span class="s1">width</span><span class="s5">: </span><span class="s1">Math</span><span class="s5">.</span><span class="s1">max</span><span class="s5">(</span><span class="s1">headerRow</span><span class="s5">.</span><span class="s1">width </span><span class="s5">+ </span><span class="s1">listView</span><span class="s5">.</span><span class="s1">vScrollbarPadding</span><span class="s5">, </span><span class="s1">root</span><span class="s5">.</span><span class="s1">viewport</span><span class="s5">.</span><span class="s1">width</span><span class="s5">)</span>
            <span class="s1">height</span><span class="s5">: </span><span class="s1">visible </span><span class="s5">? </span><span class="s1">headerRow</span><span class="s5">.</span><span class="s1">height </span><span class="s5">: </span><span class="s4">0</span>

            <span class="s1">property alias headerRow</span><span class="s5">: </span><span class="s1">row</span>
            <span class="s1">property alias headerRepeater</span><span class="s5">: </span><span class="s1">repeater</span>
            <span class="s1">Row </span><span class="s5">{</span>
                <span class="s1">id</span><span class="s5">: </span><span class="s1">row</span>

                <span class="s1">Repeater </span><span class="s5">{</span>
                    <span class="s1">id</span><span class="s5">: </span><span class="s1">repeater</span>

                    <span class="s1">property int targetIndex</span><span class="s5">: -</span><span class="s4">1</span>
                    <span class="s1">property int dragIndex</span><span class="s5">: -</span><span class="s4">1</span>

                    <span class="s1">model</span><span class="s5">: </span><span class="s1">columnModel</span>

                    <span class="s1">delegate</span><span class="s5">: </span><span class="s1">Item </span><span class="s5">{</span>
                        <span class="s1">id</span><span class="s5">: </span><span class="s1">headerRowDelegate</span>
                        <span class="s1">readonly property int column</span><span class="s5">: </span><span class="s1">index</span>
                        <span class="s1">z</span><span class="s5">:-</span><span class="s1">index</span>
                        <span class="s1">width</span><span class="s5">: </span><span class="s1">modelData</span><span class="s5">.</span><span class="s1">width</span>
                        <span class="s1">implicitWidth</span><span class="s5">: </span><span class="s1">columnCount </span><span class="s5">=== </span><span class="s4">1 </span><span class="s5">? </span><span class="s1">viewport</span><span class="s5">.</span><span class="s1">width </span><span class="s5">+ </span><span class="s1">__verticalScrollBar</span><span class="s5">.</span><span class="s1">width </span><span class="s5">: </span><span class="s1">headerStyle</span><span class="s5">.</span><span class="s1">implicitWidth</span>
                        <span class="s1">visible</span><span class="s5">: </span><span class="s1">modelData</span><span class="s5">.</span><span class="s1">visible</span>
                        <span class="s1">height</span><span class="s5">: </span><span class="s1">headerStyle</span><span class="s5">.</span><span class="s1">height</span>

                        <span class="s1">readonly property bool treeViewMovable</span><span class="s5">: !</span><span class="s1">__isTreeView </span><span class="s5">|| </span><span class="s1">index </span><span class="s5">&gt; </span><span class="s4">0</span>

                        <span class="s1">Loader </span><span class="s5">{</span>
                            <span class="s1">id</span><span class="s5">: </span><span class="s1">headerStyle</span>
                            <span class="s1">sourceComponent</span><span class="s5">: </span><span class="s1">root</span><span class="s5">.</span><span class="s1">headerDelegate</span>
                            <span class="s1">width</span><span class="s5">: </span><span class="s1">parent</span><span class="s5">.</span><span class="s1">width</span>
                            <span class="s1">property QtObject styleData</span><span class="s5">: </span><span class="s1">QtObject </span><span class="s5">{</span>
                                <span class="s1">readonly property string value</span><span class="s5">: </span><span class="s1">modelData</span><span class="s5">.</span><span class="s1">title</span>
                                <span class="s1">readonly property bool pressed</span><span class="s5">: </span><span class="s1">headerClickArea</span><span class="s5">.</span><span class="s1">pressed</span>
                                <span class="s1">readonly property bool containsMouse</span><span class="s5">: </span><span class="s1">headerClickArea</span><span class="s5">.</span><span class="s1">containsMouse</span>
                                <span class="s1">readonly property int column</span><span class="s5">: </span><span class="s1">index</span>
                                <span class="s1">readonly property int textAlignment</span><span class="s5">: </span><span class="s1">modelData</span><span class="s5">.</span><span class="s1">horizontalAlignment</span>
                                <span class="s1">readonly property bool resizable</span><span class="s5">: </span><span class="s1">modelData</span><span class="s5">.</span><span class="s1">resizable</span>
                            <span class="s5">}</span>
                        <span class="s5">}</span>

                        <span class="s1">Rectangle</span><span class="s5">{</span>
                            <span class="s1">id</span><span class="s5">: </span><span class="s1">targetmark</span>
                            <span class="s1">width</span><span class="s5">: </span><span class="s1">parent</span><span class="s5">.</span><span class="s1">width</span>
                            <span class="s1">height</span><span class="s5">:</span><span class="s1">parent</span><span class="s5">.</span><span class="s1">height</span>
                            <span class="s1">opacity</span><span class="s5">: (</span><span class="s1">treeViewMovable </span><span class="s5">&amp;&amp; </span><span class="s1">index </span><span class="s5">=== </span><span class="s1">repeater</span><span class="s5">.</span><span class="s1">targetIndex </span><span class="s5">&amp;&amp; </span><span class="s1">repeater</span><span class="s5">.</span><span class="s1">targetIndex </span><span class="s5">!== </span><span class="s1">repeater</span><span class="s5">.</span><span class="s1">dragIndex</span><span class="s5">) ? </span><span class="s4">0.5 </span><span class="s5">: </span><span class="s4">0</span>
                            <span class="s1">Behavior on opacity </span><span class="s5">{ </span><span class="s1">NumberAnimation </span><span class="s5">{ </span><span class="s1">duration</span><span class="s5">: </span><span class="s4">160 </span><span class="s5">} }</span>
                            <span class="s1">color</span><span class="s5">: </span><span class="s1">palette</span><span class="s5">.</span><span class="s1">highlight</span>
                            <span class="s1">visible</span><span class="s5">: </span><span class="s1">modelData</span><span class="s5">.</span><span class="s1">movable</span>
                        <span class="s5">}</span>

                        <span class="s1">MouseArea</span><span class="s5">{</span>
                            <span class="s1">id</span><span class="s5">: </span><span class="s1">headerClickArea</span>
                            <span class="s1">drag</span><span class="s5">.</span><span class="s1">axis</span><span class="s5">: </span><span class="s1">Qt</span><span class="s5">.</span><span class="s1">YAxis</span>
                            <span class="s1">hoverEnabled</span><span class="s5">: </span><span class="s1">Settings</span><span class="s5">.</span><span class="s1">hoverEnabled</span>
                            <span class="s1">anchors</span><span class="s5">.</span><span class="s1">fill</span><span class="s5">: </span><span class="s1">parent</span>
                            <span class="s1">onClicked</span><span class="s5">: {</span>
                                <span class="s3">if </span><span class="s5">(</span><span class="s1">sortIndicatorColumn </span><span class="s5">=== </span><span class="s1">index</span><span class="s5">)</span>
                                    <span class="s1">sortIndicatorOrder </span><span class="s5">= </span><span class="s1">sortIndicatorOrder </span><span class="s5">=== </span><span class="s1">Qt</span><span class="s5">.</span><span class="s1">AscendingOrder </span><span class="s5">? </span><span class="s1">Qt</span><span class="s5">.</span><span class="s1">DescendingOrder </span><span class="s5">: </span><span class="s1">Qt</span><span class="s5">.</span><span class="s1">AscendingOrder</span>
                                <span class="s1">sortIndicatorColumn </span><span class="s5">= </span><span class="s1">index</span>
                            <span class="s5">}</span>
                            <span class="s2">// Here we handle moving header sections</span>
                            <span class="s2">// NOTE: the direction is different from the master branch</span>
                            <span class="s2">// so this indicates that I am using an invalid assumption on item ordering</span>
                            <span class="s1">onPositionChanged</span><span class="s5">: {</span>
                                <span class="s3">if </span><span class="s5">(</span><span class="s1">drag</span><span class="s5">.</span><span class="s1">active </span><span class="s5">&amp;&amp; </span><span class="s1">modelData</span><span class="s5">.</span><span class="s1">movable </span><span class="s5">&amp;&amp; </span><span class="s1">pressed </span><span class="s5">&amp;&amp; </span><span class="s1">columnCount </span><span class="s5">&gt; </span><span class="s4">1</span><span class="s5">) { </span><span class="s2">// only do this while dragging</span>
                                    <span class="s3">for </span><span class="s5">(</span><span class="s3">var </span><span class="s1">h </span><span class="s5">= </span><span class="s1">columnCount</span><span class="s5">-</span><span class="s4">1 </span><span class="s5">; </span><span class="s1">h </span><span class="s5">&gt;= </span><span class="s4">0 </span><span class="s5">; --</span><span class="s1">h</span><span class="s5">) {</span>
                                        <span class="s3">if </span><span class="s5">(</span><span class="s1">headerRow</span><span class="s5">.</span><span class="s1">children</span><span class="s5">[</span><span class="s1">h</span><span class="s5">].</span><span class="s1">visible </span><span class="s5">&amp;&amp; </span><span class="s1">drag</span><span class="s5">.</span><span class="s1">target</span><span class="s5">.</span><span class="s1">x </span><span class="s5">+ </span><span class="s1">headerRowDelegate</span><span class="s5">.</span><span class="s1">width</span><span class="s5">/</span><span class="s4">2 </span><span class="s5">&gt; </span><span class="s1">headerRow</span><span class="s5">.</span><span class="s1">children</span><span class="s5">[</span><span class="s1">h</span><span class="s5">].</span><span class="s1">x</span><span class="s5">) {</span>
                                            <span class="s1">repeater</span><span class="s5">.</span><span class="s1">targetIndex </span><span class="s5">= </span><span class="s1">h</span>
                                            <span class="s3">break</span>
                                        <span class="s5">}</span>
                                    <span class="s5">}</span>
                                <span class="s5">}</span>
                            <span class="s5">}</span>

                            <span class="s1">onPressed</span><span class="s5">: {</span>
                                <span class="s1">repeater</span><span class="s5">.</span><span class="s1">dragIndex </span><span class="s5">= </span><span class="s1">index</span>
                            <span class="s5">}</span>

                            <span class="s1">onReleased</span><span class="s5">: {</span>
                                <span class="s3">if </span><span class="s5">(</span><span class="s1">repeater</span><span class="s5">.</span><span class="s1">targetIndex </span><span class="s5">&gt;= </span><span class="s4">0 </span><span class="s5">&amp;&amp; </span><span class="s1">repeater</span><span class="s5">.</span><span class="s1">targetIndex </span><span class="s5">!== </span><span class="s1">index </span><span class="s5">) {</span>
                                    <span class="s3">var </span><span class="s1">targetColumn </span><span class="s5">= </span><span class="s1">columnModel</span><span class="s5">.</span><span class="s1">get</span><span class="s5">(</span><span class="s1">repeater</span><span class="s5">.</span><span class="s1">targetIndex</span><span class="s5">).</span><span class="s1">columnItem</span>
                                    <span class="s3">if </span><span class="s5">(</span><span class="s1">targetColumn</span><span class="s5">.</span><span class="s1">movable </span><span class="s5">&amp;&amp; (!</span><span class="s1">__isTreeView </span><span class="s5">|| </span><span class="s1">repeater</span><span class="s5">.</span><span class="s1">targetIndex </span><span class="s5">&gt; </span><span class="s4">0</span><span class="s5">)) {</span>
                                        <span class="s3">if </span><span class="s5">(</span><span class="s1">sortIndicatorColumn </span><span class="s5">=== </span><span class="s1">index</span><span class="s5">)</span>
                                            <span class="s1">sortIndicatorColumn </span><span class="s5">= </span><span class="s1">repeater</span><span class="s5">.</span><span class="s1">targetIndex</span>
                                        <span class="s1">columnModel</span><span class="s5">.</span><span class="s1">move</span><span class="s5">(</span><span class="s1">index</span><span class="s5">, </span><span class="s1">repeater</span><span class="s5">.</span><span class="s1">targetIndex</span><span class="s5">, </span><span class="s4">1</span><span class="s5">)</span>
                                    <span class="s5">}</span>
                                <span class="s5">}</span>
                                <span class="s1">repeater</span><span class="s5">.</span><span class="s1">targetIndex </span><span class="s5">= -</span><span class="s4">1</span>
                                <span class="s1">repeater</span><span class="s5">.</span><span class="s1">dragIndex </span><span class="s5">= -</span><span class="s4">1</span>
                            <span class="s5">}</span>
                            <span class="s1">drag</span><span class="s5">.</span><span class="s1">target</span><span class="s5">: </span><span class="s1">treeViewMovable </span><span class="s5">&amp;&amp; </span><span class="s1">modelData</span><span class="s5">.</span><span class="s1">movable </span><span class="s5">&amp;&amp; </span><span class="s1">columnCount </span><span class="s5">&gt; </span><span class="s4">1 </span><span class="s5">? </span><span class="s1">draghandle </span><span class="s5">: </span><span class="s3">null</span>
                        <span class="s5">}</span>

                        <span class="s1">Loader </span><span class="s5">{</span>
                            <span class="s1">id</span><span class="s5">: </span><span class="s1">draghandle</span>
                            <span class="s1">property QtObject styleData</span><span class="s5">: </span><span class="s1">QtObject</span><span class="s5">{</span>
                                <span class="s1">readonly property string value</span><span class="s5">: </span><span class="s1">modelData</span><span class="s5">.</span><span class="s1">title</span>
                                <span class="s1">readonly property bool pressed</span><span class="s5">: </span><span class="s1">headerClickArea</span><span class="s5">.</span><span class="s1">pressed</span>
                                <span class="s1">readonly property bool containsMouse</span><span class="s5">: </span><span class="s1">headerClickArea</span><span class="s5">.</span><span class="s1">containsMouse</span>
                                <span class="s1">readonly property int column</span><span class="s5">: </span><span class="s1">index</span>
                                <span class="s1">readonly property int textAlignment</span><span class="s5">: </span><span class="s1">modelData</span><span class="s5">.</span><span class="s1">horizontalAlignment</span>
                            <span class="s5">}</span>
                            <span class="s1">parent</span><span class="s5">: </span><span class="s1">tableHeader</span>
                            <span class="s1">x</span><span class="s5">: </span><span class="s1">__implicitX</span>
                            <span class="s1">property double __implicitX</span><span class="s5">: </span><span class="s1">headerRowDelegate</span><span class="s5">.</span><span class="s1">x</span>
                            <span class="s1">width</span><span class="s5">: </span><span class="s1">modelData</span><span class="s5">.</span><span class="s1">width</span>
                            <span class="s1">height</span><span class="s5">: </span><span class="s1">parent</span><span class="s5">.</span><span class="s1">height</span>
                            <span class="s1">sourceComponent</span><span class="s5">: </span><span class="s1">root</span><span class="s5">.</span><span class="s1">headerDelegate</span>
                            <span class="s1">visible</span><span class="s5">: </span><span class="s1">headerClickArea</span><span class="s5">.</span><span class="s1">pressed</span>
                            <span class="s1">onVisibleChanged</span><span class="s5">: {</span>
                                <span class="s3">if </span><span class="s5">(!</span><span class="s1">visible</span><span class="s5">)</span>
                                    <span class="s1">x </span><span class="s5">= </span><span class="s1">Qt</span><span class="s5">.</span><span class="s1">binding</span><span class="s5">(</span><span class="s3">function </span><span class="s5">() { </span><span class="s3">return </span><span class="s1">__implicitX </span><span class="s5">})</span>
                            <span class="s5">}</span>
                            <span class="s1">opacity</span><span class="s5">: </span><span class="s4">0.5</span>
                        <span class="s5">}</span>


                        <span class="s1">MouseArea </span><span class="s5">{</span>
                            <span class="s1">id</span><span class="s5">: </span><span class="s1">headerResizeHandle</span>
                            <span class="s1">property int offset</span><span class="s5">: </span><span class="s4">0</span>
                            <span class="s1">readonly property int minimumSize</span><span class="s5">: </span><span class="s4">20</span>
                            <span class="s1">preventStealing</span><span class="s5">: </span><span class="s3">true</span>
                            <span class="s1">anchors</span><span class="s5">.</span><span class="s1">rightMargin</span><span class="s5">: -</span><span class="s1">width</span><span class="s5">/</span><span class="s4">2</span>
                            <span class="s1">width</span><span class="s5">: </span><span class="s1">Settings</span><span class="s5">.</span><span class="s1">hasTouchScreen </span><span class="s5">? </span><span class="s1">Screen</span><span class="s5">.</span><span class="s1">pixelDensity </span><span class="s5">* </span><span class="s4">3.5 </span><span class="s5">: </span><span class="s4">16</span>
                            <span class="s1">height</span><span class="s5">: </span><span class="s1">parent</span><span class="s5">.</span><span class="s1">height</span>
                            <span class="s1">anchors</span><span class="s5">.</span><span class="s1">right</span><span class="s5">: </span><span class="s1">parent</span><span class="s5">.</span><span class="s1">right</span>
                            <span class="s1">enabled</span><span class="s5">: </span><span class="s1">modelData</span><span class="s5">.</span><span class="s1">resizable </span><span class="s5">&amp;&amp; </span><span class="s1">columnCount </span><span class="s5">&gt; </span><span class="s4">0</span>
                            <span class="s1">onPositionChanged</span><span class="s5">:  {</span>
                                <span class="s3">var </span><span class="s1">newHeaderWidth </span><span class="s5">= </span><span class="s1">modelData</span><span class="s5">.</span><span class="s1">width </span><span class="s5">+ (</span><span class="s1">mouseX </span><span class="s5">- </span><span class="s1">offset</span><span class="s5">)</span>
                                <span class="s1">modelData</span><span class="s5">.</span><span class="s1">width </span><span class="s5">= </span><span class="s1">Math</span><span class="s5">.</span><span class="s1">max</span><span class="s5">(</span><span class="s1">minimumSize</span><span class="s5">, </span><span class="s1">newHeaderWidth</span><span class="s5">)</span>
                            <span class="s5">}</span>

                            <span class="s1">onDoubleClicked</span><span class="s5">: </span><span class="s1">getColumn</span><span class="s5">(</span><span class="s1">index</span><span class="s5">).</span><span class="s1">resizeToContents</span><span class="s5">()</span>
                            <span class="s1">onPressedChanged</span><span class="s5">: </span><span class="s3">if </span><span class="s5">(</span><span class="s1">pressed</span><span class="s5">) </span><span class="s1">offset</span><span class="s5">=</span><span class="s1">mouseX</span>
                            <span class="s1">cursorShape</span><span class="s5">: </span><span class="s1">enabled </span><span class="s5">&amp;&amp; </span><span class="s1">repeater</span><span class="s5">.</span><span class="s1">dragIndex</span><span class="s5">==-</span><span class="s4">1 </span><span class="s5">? </span><span class="s1">Qt</span><span class="s5">.</span><span class="s1">SplitHCursor </span><span class="s5">: </span><span class="s1">Qt</span><span class="s5">.</span><span class="s1">ArrowCursor</span>
                        <span class="s5">}</span>
                    <span class="s5">}</span>
                <span class="s5">}</span>
            <span class="s5">}</span>

            <span class="s1">Loader </span><span class="s5">{</span>
                <span class="s1">property QtObject styleData</span><span class="s5">: </span><span class="s1">QtObject</span><span class="s5">{</span>
                    <span class="s1">readonly property string value</span><span class="s5">: </span><span class="s6">&quot;&quot;</span>
                    <span class="s1">readonly property bool pressed</span><span class="s5">: </span><span class="s3">false</span>
                    <span class="s1">readonly property bool containsMouse</span><span class="s5">: </span><span class="s3">false</span>
                    <span class="s1">readonly property int column</span><span class="s5">: -</span><span class="s4">1</span>
                    <span class="s1">readonly property int textAlignment</span><span class="s5">: </span><span class="s1">Text</span><span class="s5">.</span><span class="s1">AlignLeft</span>
                <span class="s5">}</span>

                <span class="s1">anchors</span><span class="s5">.</span><span class="s1">top</span><span class="s5">: </span><span class="s1">parent</span><span class="s5">.</span><span class="s1">top</span>
                <span class="s1">anchors</span><span class="s5">.</span><span class="s1">right</span><span class="s5">: </span><span class="s1">parent</span><span class="s5">.</span><span class="s1">right</span>
                <span class="s1">anchors</span><span class="s5">.</span><span class="s1">bottom</span><span class="s5">: </span><span class="s1">headerRow</span><span class="s5">.</span><span class="s1">bottom</span>
                <span class="s1">sourceComponent</span><span class="s5">: </span><span class="s1">root</span><span class="s5">.</span><span class="s1">headerDelegate</span>
                <span class="s1">readonly property real __remainingWidth</span><span class="s5">: </span><span class="s1">parent</span><span class="s5">.</span><span class="s1">width </span><span class="s5">- </span><span class="s1">headerRow</span><span class="s5">.</span><span class="s1">width</span>
                <span class="s1">visible</span><span class="s5">: </span><span class="s1">__remainingWidth </span><span class="s5">&gt; </span><span class="s4">0</span>
                <span class="s1">width</span><span class="s5">: </span><span class="s1">__remainingWidth</span>
                <span class="s1">z</span><span class="s5">:-</span><span class="s4">1</span>
            <span class="s5">}</span>
        <span class="s5">}</span>

        <span class="s3">function </span><span class="s1">columnAt</span><span class="s5">(</span><span class="s1">offset</span><span class="s5">) {</span>
            <span class="s3">var </span><span class="s1">item </span><span class="s5">= </span><span class="s1">listView</span><span class="s5">.</span><span class="s1">headerItem</span><span class="s5">.</span><span class="s1">headerRow</span><span class="s5">.</span><span class="s1">childAt</span><span class="s5">(</span><span class="s1">offset</span><span class="s5">, </span><span class="s4">0</span><span class="s5">)</span>
            <span class="s3">return </span><span class="s1">item </span><span class="s5">? </span><span class="s1">item</span><span class="s5">.</span><span class="s1">column </span><span class="s5">: -</span><span class="s4">1</span>
        <span class="s5">}</span>
    <span class="s5">}</span>
<span class="s5">}</span>
</pre>
</body>
</html>