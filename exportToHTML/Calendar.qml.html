<html>
<head>
<title>Calendar.qml</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #5f826b; font-style: italic;}
.s1 { color: #bcbec4;}
.s2 { color: #cf8e6d;}
.s3 { color: #2aacb8;}
.s4 { color: #bcbec4;}
.s5 { color: #7a7e85;}
.s6 { color: #6aab73;}
</style>
</head>
<body bgcolor="#1e1f22">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
Calendar.qml</font>
</center></td></tr></table>
<pre><span class="s0">/****************************************************************************</span>
<span class="s0">**</span>
<span class="s0">** Copyright (C) 2016 The Qt Company Ltd.</span>
<span class="s0">** Contact: https://www.qt.io/licensing/</span>
<span class="s0">**</span>
<span class="s0">** This file is part of the Qt Quick Controls module of the Qt Toolkit.</span>
<span class="s0">**</span>
<span class="s0">** $QT_BEGIN_LICENSE:LGPL$</span>
<span class="s0">** Commercial License Usage</span>
<span class="s0">** Licensees holding valid commercial Qt licenses may use this file in</span>
<span class="s0">** accordance with the commercial license agreement provided with the</span>
<span class="s0">** Software or, alternatively, in accordance with the terms contained in</span>
<span class="s0">** a written agreement between you and The Qt Company. For licensing terms</span>
<span class="s0">** and conditions see https://www.qt.io/terms-conditions. For further</span>
<span class="s0">** information use the contact form at https://www.qt.io/contact-us.</span>
<span class="s0">**</span>
<span class="s0">** GNU Lesser General Public License Usage</span>
<span class="s0">** Alternatively, this file may be used under the terms of the GNU Lesser</span>
<span class="s0">** General Public License version 3 as published by the Free Software</span>
<span class="s0">** Foundation and appearing in the file LICENSE.LGPL3 included in the</span>
<span class="s0">** packaging of this file. Please review the following information to</span>
<span class="s0">** ensure the GNU Lesser General Public License version 3 requirements</span>
<span class="s0">** will be met: https://www.gnu.org/licenses/lgpl-3.0.html.</span>
<span class="s0">**</span>
<span class="s0">** GNU General Public License Usage</span>
<span class="s0">** Alternatively, this file may be used under the terms of the GNU</span>
<span class="s0">** General Public License version 2.0 or (at your option) the GNU General</span>
<span class="s0">** Public license version 3 or any later version approved by the KDE Free</span>
<span class="s0">** Qt Foundation. The licenses are as published by the Free Software</span>
<span class="s0">** Foundation and appearing in the file LICENSE.GPL2 and LICENSE.GPL3</span>
<span class="s0">** included in the packaging of this file. Please review the following</span>
<span class="s0">** information to ensure the GNU General Public License requirements will</span>
<span class="s0">** be met: https://www.gnu.org/licenses/gpl-2.0.html and</span>
<span class="s0">** https://www.gnu.org/licenses/gpl-3.0.html.</span>
<span class="s0">**</span>
<span class="s0">** $QT_END_LICENSE$</span>
<span class="s0">**</span>
<span class="s0">****************************************************************************/</span>

<span class="s2">import </span><span class="s1">QtQuick </span><span class="s3">2.9</span>
<span class="s2">import </span><span class="s1">QtQuick</span><span class="s4">.</span><span class="s1">Controls </span><span class="s3">1.5</span>
<span class="s2">import </span><span class="s1">QtQuick</span><span class="s4">.</span><span class="s1">Controls</span><span class="s4">.</span><span class="s1">Styles </span><span class="s3">1.1</span>
<span class="s2">import </span><span class="s1">QtQuick</span><span class="s4">.</span><span class="s1">Controls</span><span class="s4">.</span><span class="s1">Private </span><span class="s3">1.0</span>

<span class="s5">/*! 
    \qmltype Calendar 
    \inqmlmodule QtQuick.Controls 
    \since 5.3 
    \ingroup controls 
    \brief Provides a way to select dates from a calendar. 
 
    \image calendar.png 
 
    Calendar allows selection of dates from a grid of days, similar to 
    QCalendarWidget. 
 
    The dates on the calendar can be selected with the mouse, or navigated 
    with the keyboard. 
 
    The selected date can be set through \l selectedDate. 
    A minimum and maximum date can be set through \l minimumDate and 
    \l maximumDate. The earliest minimum date that can be set is 1 January, 1 
    AD. The latest maximum date that can be set is 25 October, 275759 AD. 
 
    \code 
    Calendar { 
        minimumDate: new Date(2017, 0, 1) 
        maximumDate: new Date(2018, 0, 1) 
    } 
    \endcode 
 
    The selected date is displayed using the format in the application's 
    default locale. 
 
    Week numbers can be displayed by setting the weekNumbersVisible property to 
    \c true. 
 
    \qml 
    Calendar { 
        weekNumbersVisible: true 
    } 
    \endqml 
 
    You can create a custom appearance for Calendar by assigning a 
    \l {CalendarStyle}. 
*/</span>

<span class="s1">Control </span><span class="s4">{</span>
    <span class="s1">id</span><span class="s4">: </span><span class="s1">calendar</span>

    <span class="s5">/*! 
        \qmlproperty date Calendar::selectedDate 
 
        The date that has been selected by the user. 
 
        This property is subject to the following validation: 
 
        \list 
            \li If selectedDate is outside the range of \l minimumDate and 
                \l maximumDate, it will be clamped to be within that range. 
 
            \li selectedDate will not be changed if \c undefined or some other 
                invalid value is assigned. 
 
            \li If there are hours, minutes, seconds or milliseconds set, they 
                will be removed. 
        \endlist 
 
        The default value is the current date, which is equivalent to: 
 
        \code 
        new Date() 
        \endcode 
    */</span>
    <span class="s1">property alias selectedDate</span><span class="s4">: </span><span class="s1">rangedDate</span><span class="s4">.</span><span class="s1">date</span>

    <span class="s5">/*! 
        \qmlproperty date Calendar::minimumDate 
 
        The earliest date that this calendar will accept. 
 
        By default, this property is set to the earliest minimum date 
        (1 January, 1 AD). 
    */</span>
    <span class="s1">property alias minimumDate</span><span class="s4">: </span><span class="s1">rangedDate</span><span class="s4">.</span><span class="s1">minimumDate</span>

    <span class="s5">/*! 
        \qmlproperty date Calendar::maximumDate 
 
        The latest date that this calendar will accept. 
 
        By default, this property is set to the latest maximum date 
        (25 October, 275759 AD). 
    */</span>
    <span class="s1">property alias maximumDate</span><span class="s4">: </span><span class="s1">rangedDate</span><span class="s4">.</span><span class="s1">maximumDate</span>

    <span class="s5">/*! 
        This property determines which month in visibleYear is shown on the 
        calendar. 
 
        The month is from \c 0 to \c 11 to be consistent with the JavaScript 
        Date object. 
 
        \sa visibleYear 
    */</span>
    <span class="s1">property int visibleMonth</span><span class="s4">: </span><span class="s1">selectedDate</span><span class="s4">.</span><span class="s1">getMonth</span><span class="s4">()</span>

    <span class="s5">/*! 
        This property determines which year is shown on the 
        calendar. 
 
        \sa visibleMonth 
    */</span>
    <span class="s1">property int visibleYear</span><span class="s4">: </span><span class="s1">selectedDate</span><span class="s4">.</span><span class="s1">getFullYear</span><span class="s4">()</span>

    <span class="s1">onSelectedDateChanged</span><span class="s4">: {</span>
        <span class="s5">// When the selected date changes, the view should move back to that date.</span>
        <span class="s1">visibleMonth </span><span class="s4">= </span><span class="s1">selectedDate</span><span class="s4">.</span><span class="s1">getMonth</span><span class="s4">();</span>
        <span class="s1">visibleYear </span><span class="s4">= </span><span class="s1">selectedDate</span><span class="s4">.</span><span class="s1">getFullYear</span><span class="s4">();</span>
    <span class="s4">}</span>

    <span class="s1">RangedDate </span><span class="s4">{</span>
        <span class="s1">id</span><span class="s4">: </span><span class="s1">rangedDate</span>
        <span class="s1">date</span><span class="s4">: </span><span class="s2">new </span><span class="s1">Date</span><span class="s4">()</span>
        <span class="s1">minimumDate</span><span class="s4">: </span><span class="s1">CalendarUtils</span><span class="s4">.</span><span class="s1">minimumCalendarDate</span>
        <span class="s1">maximumDate</span><span class="s4">: </span><span class="s1">CalendarUtils</span><span class="s4">.</span><span class="s1">maximumCalendarDate</span>
    <span class="s4">}</span>

    <span class="s5">/*! 
        This property determines the visibility of the frame 
        surrounding the calendar. 
 
        The default value is \c true. 
    */</span>
    <span class="s1">property bool frameVisible</span><span class="s4">: </span><span class="s2">true</span>

    <span class="s5">/*! 
        This property determines the visibility of week numbers. 
 
        The default value is \c false. 
    */</span>
    <span class="s1">property bool weekNumbersVisible</span><span class="s4">: </span><span class="s2">false</span>

    <span class="s5">/*! 
        This property determines the visibility of the navigation bar. 
        \since QtQuick.Controls 1.3 
 
        The default value is \c true. 
    */</span>
    <span class="s1">property bool navigationBarVisible</span><span class="s4">: </span><span class="s2">true</span>

    <span class="s5">/*! 
        \qmlproperty enum Calendar::dayOfWeekFormat 
 
        The format in which the days of the week (in the header) are displayed. 
 
        \c Locale.ShortFormat is the default and recommended format, as 
        \c Locale.NarrowFormat may not be fully supported by each locale (see 
        \l {Locale String Format Types}) and 
        \c Locale.LongFormat may not fit within the header cells. 
    */</span>
    <span class="s1">property int dayOfWeekFormat</span><span class="s4">: </span><span class="s1">Locale</span><span class="s4">.</span><span class="s1">ShortFormat</span>

    <span class="s5">/*! 
        \qmlproperty object Calendar::locale 
        \since QtQuick.Controls 1.6 
 
        This property controls the locale that this calendar uses to display 
        itself. 
 
        The locale affects how dates and day names are localized, as well as 
        which day is considered the first in a week. 
 
        The following example sets an Australian locale: 
 
        \code 
        locale: Qt.locale(&quot;en_AU&quot;) 
        \endcode 
 
        The default value is equivalent to \c Qt.locale(). 
    */</span>
    <span class="s1">property </span><span class="s2">var </span><span class="s1">locale</span><span class="s4">: </span><span class="s1">Qt</span><span class="s4">.</span><span class="s1">locale</span><span class="s4">()</span>

    <span class="s5">// left for compatibility reasons; can be removed in next minor version/Qt 6</span>
    <span class="s1">property alias __locale</span><span class="s4">: </span><span class="s1">calendar</span><span class="s4">.</span><span class="s1">locale</span>

    <span class="s5">/*! 
        \internal 
 
        This property holds the model that will be used by the Calendar to 
        populate the dates available to the user. 
    */</span>
    <span class="s1">property CalendarModel __model</span><span class="s4">: </span><span class="s1">CalendarModel </span><span class="s4">{</span>
        <span class="s1">locale</span><span class="s4">: </span><span class="s1">calendar</span><span class="s4">.</span><span class="s1">locale</span>

        <span class="s5">// TODO: don't set the hour when QTBUG-56787 is fixed</span>
        <span class="s1">visibleDate</span><span class="s4">: </span><span class="s2">new </span><span class="s1">Date</span><span class="s4">(</span><span class="s1">visibleYear</span><span class="s4">, </span><span class="s1">visibleMonth</span><span class="s4">, </span><span class="s3">1</span><span class="s4">, </span><span class="s3">12</span><span class="s4">)</span>
    <span class="s4">}</span>

    <span class="s1">style</span><span class="s4">: </span><span class="s1">Settings</span><span class="s4">.</span><span class="s1">styleComponent</span><span class="s4">(</span><span class="s1">Settings</span><span class="s4">.</span><span class="s1">style</span><span class="s4">, </span><span class="s6">&quot;CalendarStyle.qml&quot;</span><span class="s4">, </span><span class="s1">calendar</span><span class="s4">)</span>

    <span class="s5">/*! 
        \qmlsignal Calendar::hovered(date date) 
 
        Emitted when the mouse hovers over a valid date in the calendar. 
 
        \e date is the date that was hovered over. 
 
        The corresponding handler is \c onHovered. 
    */</span>
    <span class="s1">signal hovered</span><span class="s4">(</span><span class="s1">date date</span><span class="s4">)</span>

    <span class="s5">/*! 
        \qmlsignal Calendar::pressed(date date) 
 
        Emitted when the mouse is pressed on a valid date in the calendar. 
 
        This is also emitted when dragging the mouse to another date while it is pressed. 
 
        \e date is the date that the mouse was pressed on. 
 
        The corresponding handler is \c onPressed. 
    */</span>
    <span class="s1">signal pressed</span><span class="s4">(</span><span class="s1">date date</span><span class="s4">)</span>

    <span class="s5">/*! 
        \qmlsignal Calendar::released(date date) 
 
        Emitted when the mouse is released over a valid date in the calendar. 
 
        \e date is the date that the mouse was released over. 
 
        The corresponding handler is \c onReleased. 
    */</span>
    <span class="s1">signal released</span><span class="s4">(</span><span class="s1">date date</span><span class="s4">)</span>

    <span class="s5">/*! 
        \qmlsignal Calendar::clicked(date date) 
 
        Emitted when the mouse is clicked on a valid date in the calendar. 
 
        \e date is the date that the mouse was clicked on. 
 
        The corresponding handler is \c onClicked. 
    */</span>
    <span class="s1">signal clicked</span><span class="s4">(</span><span class="s1">date date</span><span class="s4">)</span>

    <span class="s5">/*! 
        \qmlsignal Calendar::doubleClicked(date date) 
 
        Emitted when the mouse is double-clicked on a valid date in the calendar. 
 
        \e date is the date that the mouse was double-clicked on. 
 
        The corresponding handler is \c onDoubleClicked. 
    */</span>
    <span class="s1">signal doubleClicked</span><span class="s4">(</span><span class="s1">date date</span><span class="s4">)</span>

    <span class="s5">/*! 
        \qmlsignal Calendar::pressAndHold(date date) 
        \since QtQuick.Controls 1.3 
 
        Emitted when the mouse is pressed and held on a valid date in the calendar. 
 
        \e date is the date that the mouse was pressed on. 
 
        The corresponding handler is \c onPressAndHold. 
    */</span>
    <span class="s1">signal pressAndHold</span><span class="s4">(</span><span class="s1">date date</span><span class="s4">)</span>

    <span class="s5">/*! 
        \qmlmethod void Calendar::showPreviousMonth() 
        Sets visibleMonth to the previous month. 
    */</span>
    <span class="s2">function </span><span class="s1">showPreviousMonth</span><span class="s4">() {</span>
        <span class="s2">if </span><span class="s4">(</span><span class="s1">visibleMonth </span><span class="s4">=== </span><span class="s3">0</span><span class="s4">) {</span>
            <span class="s1">visibleMonth </span><span class="s4">= </span><span class="s1">CalendarUtils</span><span class="s4">.</span><span class="s1">monthsInAYear </span><span class="s4">- </span><span class="s3">1</span><span class="s4">;</span>
            <span class="s4">--</span><span class="s1">visibleYear</span><span class="s4">;</span>
        <span class="s4">} </span><span class="s2">else </span><span class="s4">{</span>
            <span class="s4">--</span><span class="s1">visibleMonth</span><span class="s4">;</span>
        <span class="s4">}</span>
    <span class="s4">}</span>

    <span class="s5">/*! 
        \qmlmethod void Calendar::showNextMonth() 
        Sets visibleMonth to the next month. 
    */</span>
    <span class="s2">function </span><span class="s1">showNextMonth</span><span class="s4">() {</span>
        <span class="s2">if </span><span class="s4">(</span><span class="s1">visibleMonth </span><span class="s4">=== </span><span class="s1">CalendarUtils</span><span class="s4">.</span><span class="s1">monthsInAYear </span><span class="s4">- </span><span class="s3">1</span><span class="s4">) {</span>
            <span class="s1">visibleMonth </span><span class="s4">= </span><span class="s3">0</span><span class="s4">;</span>
            <span class="s4">++</span><span class="s1">visibleYear</span><span class="s4">;</span>
        <span class="s4">} </span><span class="s2">else </span><span class="s4">{</span>
            <span class="s4">++</span><span class="s1">visibleMonth</span><span class="s4">;</span>
        <span class="s4">}</span>
    <span class="s4">}</span>

    <span class="s5">/*! 
        \qmlmethod void Calendar::showPreviousYear() 
        Sets visibleYear to the previous year. 
    */</span>
    <span class="s2">function </span><span class="s1">showPreviousYear</span><span class="s4">() {</span>
        <span class="s2">if </span><span class="s4">(</span><span class="s1">visibleYear </span><span class="s4">- </span><span class="s3">1 </span><span class="s4">&gt;= </span><span class="s1">minimumDate</span><span class="s4">.</span><span class="s1">getFullYear</span><span class="s4">()) {</span>
            <span class="s4">--</span><span class="s1">visibleYear</span><span class="s4">;</span>
        <span class="s4">}</span>
    <span class="s4">}</span>

    <span class="s5">/*! 
        \qmlmethod void Calendar::showNextYear() 
        Sets visibleYear to the next year. 
    */</span>
    <span class="s2">function </span><span class="s1">showNextYear</span><span class="s4">() {</span>
        <span class="s2">if </span><span class="s4">(</span><span class="s1">visibleYear </span><span class="s4">+ </span><span class="s3">1 </span><span class="s4">&lt;= </span><span class="s1">maximumDate</span><span class="s4">.</span><span class="s1">getFullYear</span><span class="s4">()) {</span>
            <span class="s4">++</span><span class="s1">visibleYear</span><span class="s4">;</span>
        <span class="s4">}</span>
    <span class="s4">}</span>

    <span class="s5">/*! 
        Selects the month before the current month in \l selectedDate. 
    */</span>
    <span class="s2">function </span><span class="s1">__selectPreviousMonth</span><span class="s4">() {</span>
        <span class="s1">calendar</span><span class="s4">.</span><span class="s1">selectedDate </span><span class="s4">= </span><span class="s1">CalendarUtils</span><span class="s4">.</span><span class="s1">setMonth</span><span class="s4">(</span><span class="s1">calendar</span><span class="s4">.</span><span class="s1">selectedDate</span><span class="s4">, </span><span class="s1">calendar</span><span class="s4">.</span><span class="s1">selectedDate</span><span class="s4">.</span><span class="s1">getMonth</span><span class="s4">() - </span><span class="s3">1</span><span class="s4">);</span>
    <span class="s4">}</span>

    <span class="s5">/*! 
        Selects the month after the current month in \l selectedDate. 
    */</span>
    <span class="s2">function </span><span class="s1">__selectNextMonth</span><span class="s4">() {</span>
        <span class="s1">calendar</span><span class="s4">.</span><span class="s1">selectedDate </span><span class="s4">= </span><span class="s1">CalendarUtils</span><span class="s4">.</span><span class="s1">setMonth</span><span class="s4">(</span><span class="s1">calendar</span><span class="s4">.</span><span class="s1">selectedDate</span><span class="s4">, </span><span class="s1">calendar</span><span class="s4">.</span><span class="s1">selectedDate</span><span class="s4">.</span><span class="s1">getMonth</span><span class="s4">() + </span><span class="s3">1</span><span class="s4">);</span>
    <span class="s4">}</span>

    <span class="s5">/*! 
        Selects the week before the current week in \l selectedDate. 
    */</span>
    <span class="s2">function </span><span class="s1">__selectPreviousWeek</span><span class="s4">() {</span>
        <span class="s2">var </span><span class="s1">newDate </span><span class="s4">= </span><span class="s2">new </span><span class="s1">Date</span><span class="s4">(</span><span class="s1">calendar</span><span class="s4">.</span><span class="s1">selectedDate</span><span class="s4">);</span>
        <span class="s1">newDate</span><span class="s4">.</span><span class="s1">setDate</span><span class="s4">(</span><span class="s1">newDate</span><span class="s4">.</span><span class="s1">getDate</span><span class="s4">() - </span><span class="s1">CalendarUtils</span><span class="s4">.</span><span class="s1">daysInAWeek</span><span class="s4">);</span>
        <span class="s1">calendar</span><span class="s4">.</span><span class="s1">selectedDate </span><span class="s4">= </span><span class="s1">newDate</span><span class="s4">;</span>
    <span class="s4">}</span>

    <span class="s5">/*! 
        Selects the week after the current week in \l selectedDate. 
    */</span>
    <span class="s2">function </span><span class="s1">__selectNextWeek</span><span class="s4">() {</span>
        <span class="s2">var </span><span class="s1">newDate </span><span class="s4">= </span><span class="s2">new </span><span class="s1">Date</span><span class="s4">(</span><span class="s1">calendar</span><span class="s4">.</span><span class="s1">selectedDate</span><span class="s4">);</span>
        <span class="s1">newDate</span><span class="s4">.</span><span class="s1">setDate</span><span class="s4">(</span><span class="s1">newDate</span><span class="s4">.</span><span class="s1">getDate</span><span class="s4">() + </span><span class="s1">CalendarUtils</span><span class="s4">.</span><span class="s1">daysInAWeek</span><span class="s4">);</span>
        <span class="s1">calendar</span><span class="s4">.</span><span class="s1">selectedDate </span><span class="s4">= </span><span class="s1">newDate</span><span class="s4">;</span>
    <span class="s4">}</span>

    <span class="s5">/*! 
        Selects the first day of the current month in \l selectedDate. 
    */</span>
    <span class="s2">function </span><span class="s1">__selectFirstDayOfMonth</span><span class="s4">() {</span>
        <span class="s2">var </span><span class="s1">newDate </span><span class="s4">= </span><span class="s2">new </span><span class="s1">Date</span><span class="s4">(</span><span class="s1">calendar</span><span class="s4">.</span><span class="s1">selectedDate</span><span class="s4">);</span>
        <span class="s1">newDate</span><span class="s4">.</span><span class="s1">setDate</span><span class="s4">(</span><span class="s3">1</span><span class="s4">);</span>
        <span class="s1">calendar</span><span class="s4">.</span><span class="s1">selectedDate </span><span class="s4">= </span><span class="s1">newDate</span><span class="s4">;</span>
    <span class="s4">}</span>

    <span class="s5">/*! 
        Selects the last day of the current month in \l selectedDate. 
    */</span>
    <span class="s2">function </span><span class="s1">__selectLastDayOfMonth</span><span class="s4">() {</span>
        <span class="s2">var </span><span class="s1">newDate </span><span class="s4">= </span><span class="s2">new </span><span class="s1">Date</span><span class="s4">(</span><span class="s1">calendar</span><span class="s4">.</span><span class="s1">selectedDate</span><span class="s4">);</span>
        <span class="s1">newDate</span><span class="s4">.</span><span class="s1">setDate</span><span class="s4">(</span><span class="s1">CalendarUtils</span><span class="s4">.</span><span class="s1">daysInMonth</span><span class="s4">(</span><span class="s1">newDate</span><span class="s4">));</span>
        <span class="s1">calendar</span><span class="s4">.</span><span class="s1">selectedDate </span><span class="s4">= </span><span class="s1">newDate</span><span class="s4">;</span>
    <span class="s4">}</span>

    <span class="s5">/*! 
        Selects the day before the current day in \l selectedDate. 
    */</span>
    <span class="s2">function </span><span class="s1">__selectPreviousDay</span><span class="s4">() {</span>
        <span class="s2">var </span><span class="s1">newDate </span><span class="s4">= </span><span class="s2">new </span><span class="s1">Date</span><span class="s4">(</span><span class="s1">calendar</span><span class="s4">.</span><span class="s1">selectedDate</span><span class="s4">);</span>
        <span class="s1">newDate</span><span class="s4">.</span><span class="s1">setDate</span><span class="s4">(</span><span class="s1">newDate</span><span class="s4">.</span><span class="s1">getDate</span><span class="s4">() - </span><span class="s3">1</span><span class="s4">);</span>
        <span class="s1">calendar</span><span class="s4">.</span><span class="s1">selectedDate </span><span class="s4">= </span><span class="s1">newDate</span><span class="s4">;</span>
    <span class="s4">}</span>

    <span class="s5">/*! 
        Selects the day after the current day in \l selectedDate. 
    */</span>
    <span class="s2">function </span><span class="s1">__selectNextDay</span><span class="s4">() {</span>
        <span class="s2">var </span><span class="s1">newDate </span><span class="s4">= </span><span class="s2">new </span><span class="s1">Date</span><span class="s4">(</span><span class="s1">calendar</span><span class="s4">.</span><span class="s1">selectedDate</span><span class="s4">);</span>
        <span class="s1">newDate</span><span class="s4">.</span><span class="s1">setDate</span><span class="s4">(</span><span class="s1">newDate</span><span class="s4">.</span><span class="s1">getDate</span><span class="s4">() + </span><span class="s3">1</span><span class="s4">);</span>
        <span class="s1">calendar</span><span class="s4">.</span><span class="s1">selectedDate </span><span class="s4">= </span><span class="s1">newDate</span><span class="s4">;</span>
    <span class="s4">}</span>

    <span class="s1">Keys</span><span class="s4">.</span><span class="s1">onLeftPressed</span><span class="s4">: {</span>
        <span class="s1">calendar</span><span class="s4">.</span><span class="s1">__selectPreviousDay</span><span class="s4">();</span>
    <span class="s4">}</span>

    <span class="s1">Keys</span><span class="s4">.</span><span class="s1">onUpPressed</span><span class="s4">: {</span>
        <span class="s1">calendar</span><span class="s4">.</span><span class="s1">__selectPreviousWeek</span><span class="s4">();</span>
    <span class="s4">}</span>

    <span class="s1">Keys</span><span class="s4">.</span><span class="s1">onDownPressed</span><span class="s4">: {</span>
        <span class="s1">calendar</span><span class="s4">.</span><span class="s1">__selectNextWeek</span><span class="s4">();</span>
    <span class="s4">}</span>

    <span class="s1">Keys</span><span class="s4">.</span><span class="s1">onRightPressed</span><span class="s4">: {</span>
        <span class="s1">calendar</span><span class="s4">.</span><span class="s1">__selectNextDay</span><span class="s4">();</span>
    <span class="s4">}</span>

    <span class="s1">Keys</span><span class="s4">.</span><span class="s1">onPressed</span><span class="s4">: {</span>
        <span class="s2">if </span><span class="s4">(</span><span class="s1">event</span><span class="s4">.</span><span class="s1">key </span><span class="s4">=== </span><span class="s1">Qt</span><span class="s4">.</span><span class="s1">Key_Home</span><span class="s4">) {</span>
            <span class="s1">calendar</span><span class="s4">.</span><span class="s1">__selectFirstDayOfMonth</span><span class="s4">();</span>
            <span class="s1">event</span><span class="s4">.</span><span class="s1">accepted </span><span class="s4">= </span><span class="s2">true</span><span class="s4">;</span>
        <span class="s4">} </span><span class="s2">else if </span><span class="s4">(</span><span class="s1">event</span><span class="s4">.</span><span class="s1">key </span><span class="s4">=== </span><span class="s1">Qt</span><span class="s4">.</span><span class="s1">Key_End</span><span class="s4">) {</span>
            <span class="s1">calendar</span><span class="s4">.</span><span class="s1">__selectLastDayOfMonth</span><span class="s4">();</span>
            <span class="s1">event</span><span class="s4">.</span><span class="s1">accepted </span><span class="s4">= </span><span class="s2">true</span><span class="s4">;</span>
        <span class="s4">} </span><span class="s2">else if </span><span class="s4">(</span><span class="s1">event</span><span class="s4">.</span><span class="s1">key </span><span class="s4">=== </span><span class="s1">Qt</span><span class="s4">.</span><span class="s1">Key_PageUp</span><span class="s4">) {</span>
            <span class="s1">calendar</span><span class="s4">.</span><span class="s1">__selectPreviousMonth</span><span class="s4">();</span>
            <span class="s1">event</span><span class="s4">.</span><span class="s1">accepted </span><span class="s4">= </span><span class="s2">true</span><span class="s4">;</span>
        <span class="s4">} </span><span class="s2">else if </span><span class="s4">(</span><span class="s1">event</span><span class="s4">.</span><span class="s1">key </span><span class="s4">=== </span><span class="s1">Qt</span><span class="s4">.</span><span class="s1">Key_PageDown</span><span class="s4">) {</span>
            <span class="s1">calendar</span><span class="s4">.</span><span class="s1">__selectNextMonth</span><span class="s4">();</span>
            <span class="s1">event</span><span class="s4">.</span><span class="s1">accepted </span><span class="s4">= </span><span class="s2">true</span><span class="s4">;</span>
        <span class="s4">}</span>
    <span class="s4">}</span>
<span class="s4">}</span>
</pre>
</body>
</html>