<html>
<head>
<title>DefaultFileDialog.qml</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #5f826b; font-style: italic;}
.s1 { color: #bcbec4;}
.s2 { color: #cf8e6d;}
.s3 { color: #2aacb8;}
.s4 { color: #bcbec4;}
.s5 { color: #6aab73;}
.s6 { color: #7a7e85;}
</style>
</head>
<body bgcolor="#1e1f22">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
DefaultFileDialog.qml</font>
</center></td></tr></table>
<pre><span class="s0">/****************************************************************************</span>
<span class="s0">**</span>
<span class="s0">** Copyright (C) 2016 The Qt Company Ltd.</span>
<span class="s0">** Contact: https://www.qt.io/licensing/</span>
<span class="s0">**</span>
<span class="s0">** This file is part of the Qt Quick Dialogs module of the Qt Toolkit.</span>
<span class="s0">**</span>
<span class="s0">** $QT_BEGIN_LICENSE:LGPL$</span>
<span class="s0">** Commercial License Usage</span>
<span class="s0">** Licensees holding valid commercial Qt licenses may use this file in</span>
<span class="s0">** accordance with the commercial license agreement provided with the</span>
<span class="s0">** Software or, alternatively, in accordance with the terms contained in</span>
<span class="s0">** a written agreement between you and The Qt Company. For licensing terms</span>
<span class="s0">** and conditions see https://www.qt.io/terms-conditions. For further</span>
<span class="s0">** information use the contact form at https://www.qt.io/contact-us.</span>
<span class="s0">**</span>
<span class="s0">** GNU Lesser General Public License Usage</span>
<span class="s0">** Alternatively, this file may be used under the terms of the GNU Lesser</span>
<span class="s0">** General Public License version 3 as published by the Free Software</span>
<span class="s0">** Foundation and appearing in the file LICENSE.LGPL3 included in the</span>
<span class="s0">** packaging of this file. Please review the following information to</span>
<span class="s0">** ensure the GNU Lesser General Public License version 3 requirements</span>
<span class="s0">** will be met: https://www.gnu.org/licenses/lgpl-3.0.html.</span>
<span class="s0">**</span>
<span class="s0">** GNU General Public License Usage</span>
<span class="s0">** Alternatively, this file may be used under the terms of the GNU</span>
<span class="s0">** General Public License version 2.0 or (at your option) the GNU General</span>
<span class="s0">** Public license version 3 or any later version approved by the KDE Free</span>
<span class="s0">** Qt Foundation. The licenses are as published by the Free Software</span>
<span class="s0">** Foundation and appearing in the file LICENSE.GPL2 and LICENSE.GPL3</span>
<span class="s0">** included in the packaging of this file. Please review the following</span>
<span class="s0">** information to ensure the GNU General Public License requirements will</span>
<span class="s0">** be met: https://www.gnu.org/licenses/gpl-2.0.html and</span>
<span class="s0">** https://www.gnu.org/licenses/gpl-3.0.html.</span>
<span class="s0">**</span>
<span class="s0">** $QT_END_LICENSE$</span>
<span class="s0">**</span>
<span class="s0">****************************************************************************/</span>

<span class="s2">import </span><span class="s1">QtQml </span><span class="s3">2.14 </span><span class="s4">as </span><span class="s1">Qml</span>
<span class="s2">import </span><span class="s1">QtQuick </span><span class="s3">2.2</span>
<span class="s2">import </span><span class="s1">QtQuick</span><span class="s4">.</span><span class="s1">Controls </span><span class="s3">1.2</span>
<span class="s2">import </span><span class="s1">QtQuick</span><span class="s4">.</span><span class="s1">Controls</span><span class="s4">.</span><span class="s1">Private </span><span class="s3">1.0 </span><span class="s4">as </span><span class="s1">ControlsPrivate</span>
<span class="s2">import </span><span class="s1">QtQuick</span><span class="s4">.</span><span class="s1">Dialogs </span><span class="s3">1.1</span>
<span class="s2">import </span><span class="s1">QtQuick</span><span class="s4">.</span><span class="s1">Dialogs</span><span class="s4">.</span><span class="s1">Private </span><span class="s3">1.1</span>
<span class="s2">import </span><span class="s1">QtQuick</span><span class="s4">.</span><span class="s1">Layouts </span><span class="s3">1.1</span>
<span class="s2">import </span><span class="s1">QtQuick</span><span class="s4">.</span><span class="s1">Window </span><span class="s3">2.1</span>
<span class="s2">import </span><span class="s1">Qt</span><span class="s4">.</span><span class="s1">labs</span><span class="s4">.</span><span class="s1">folderlistmodel </span><span class="s3">2.1</span>
<span class="s2">import </span><span class="s1">Qt</span><span class="s4">.</span><span class="s1">labs</span><span class="s4">.</span><span class="s1">settings </span><span class="s3">1.0</span>
<span class="s2">import </span><span class="s5">&quot;qml&quot;</span>

<span class="s1">AbstractFileDialog </span><span class="s4">{</span>
    <span class="s1">id</span><span class="s4">: </span><span class="s1">root</span>

    <span class="s1">property Component modelComponent</span><span class="s4">: </span><span class="s1">Component </span><span class="s4">{</span>
        <span class="s1">FolderListModel </span><span class="s4">{</span>
            <span class="s1">showFiles</span><span class="s4">: !</span><span class="s1">root</span><span class="s4">.</span><span class="s1">selectFolder</span>
            <span class="s1">nameFilters</span><span class="s4">: </span><span class="s1">root</span><span class="s4">.</span><span class="s1">selectedNameFilterExtensions</span>
            <span class="s1">sortField</span><span class="s4">: (</span><span class="s1">view</span><span class="s4">.</span><span class="s1">sortIndicatorColumn </span><span class="s4">=== </span><span class="s3">0 </span><span class="s4">? </span><span class="s1">FolderListModel</span><span class="s4">.</span><span class="s1">Name </span><span class="s4">:</span>
                        <span class="s4">(</span><span class="s1">view</span><span class="s4">.</span><span class="s1">sortIndicatorColumn </span><span class="s4">=== </span><span class="s3">1 </span><span class="s4">? </span><span class="s1">FolderListModel</span><span class="s4">.</span><span class="s1">Type </span><span class="s4">:</span>
                        <span class="s4">(</span><span class="s1">view</span><span class="s4">.</span><span class="s1">sortIndicatorColumn </span><span class="s4">=== </span><span class="s3">2 </span><span class="s4">? </span><span class="s1">FolderListModel</span><span class="s4">.</span><span class="s1">Size </span><span class="s4">: </span><span class="s1">FolderListModel</span><span class="s4">.</span><span class="s1">LastModified</span><span class="s4">)))</span>
            <span class="s1">sortReversed</span><span class="s4">: </span><span class="s1">view</span><span class="s4">.</span><span class="s1">sortIndicatorOrder </span><span class="s4">=== </span><span class="s1">Qt</span><span class="s4">.</span><span class="s1">DescendingOrder</span>
        <span class="s4">}</span>
    <span class="s4">}</span>

    <span class="s1">onVisibleChanged</span><span class="s4">: {</span>
        <span class="s2">if </span><span class="s4">(</span><span class="s1">visible</span><span class="s4">) {</span>
            <span class="s6">// If the TableView doesn't have a model yet, create it asynchronously to avoid a UI freeze</span>
            <span class="s2">if </span><span class="s4">(!</span><span class="s1">view</span><span class="s4">.</span><span class="s1">model</span><span class="s4">) {</span>
                <span class="s2">var </span><span class="s1">incubator </span><span class="s4">= </span><span class="s1">modelComponent</span><span class="s4">.</span><span class="s1">incubateObject</span><span class="s4">(</span><span class="s2">null</span><span class="s4">, { })</span>
                <span class="s2">function </span><span class="s1">init</span><span class="s4">(</span><span class="s1">model</span><span class="s4">) {</span>
                    <span class="s1">view</span><span class="s4">.</span><span class="s1">model </span><span class="s4">= </span><span class="s1">model</span>
                    <span class="s1">model</span><span class="s4">.</span><span class="s1">nameFilters </span><span class="s4">= </span><span class="s1">root</span><span class="s4">.</span><span class="s1">selectedNameFilterExtensions</span>
                    <span class="s1">root</span><span class="s4">.</span><span class="s1">folder </span><span class="s4">= </span><span class="s1">model</span><span class="s4">.</span><span class="s1">folder</span>
                <span class="s4">}</span>

                <span class="s2">if </span><span class="s4">(</span><span class="s1">incubator</span><span class="s4">.</span><span class="s1">status </span><span class="s4">=== </span><span class="s1">Component</span><span class="s4">.</span><span class="s1">Ready</span><span class="s4">) {</span>
                    <span class="s1">init</span><span class="s4">(</span><span class="s1">incubator</span><span class="s4">.</span><span class="s1">object</span><span class="s4">)</span>
                <span class="s4">} </span><span class="s2">else </span><span class="s4">{</span>
                    <span class="s1">incubator</span><span class="s4">.</span><span class="s1">onStatusChanged </span><span class="s4">= </span><span class="s2">function</span><span class="s4">(</span><span class="s1">status</span><span class="s4">) {</span>
                        <span class="s2">if </span><span class="s4">(</span><span class="s1">status </span><span class="s4">=== </span><span class="s1">Component</span><span class="s4">.</span><span class="s1">Ready</span><span class="s4">)</span>
                            <span class="s1">init</span><span class="s4">(</span><span class="s1">incubator</span><span class="s4">.</span><span class="s1">object</span><span class="s4">)</span>
                    <span class="s4">}</span>
                <span class="s4">}</span>
            <span class="s4">}</span>

            <span class="s1">view</span><span class="s4">.</span><span class="s1">needsWidthAdjustment </span><span class="s4">= </span><span class="s2">true</span>
            <span class="s1">view</span><span class="s4">.</span><span class="s1">selection</span><span class="s4">.</span><span class="s1">clear</span><span class="s4">()</span>
            <span class="s1">view</span><span class="s4">.</span><span class="s1">focus </span><span class="s4">= </span><span class="s2">true</span>
        <span class="s4">}</span>
    <span class="s4">}</span>

    <span class="s1">Component</span><span class="s4">.</span><span class="s1">onCompleted</span><span class="s4">: {</span>
        <span class="s1">filterField</span><span class="s4">.</span><span class="s1">currentIndex </span><span class="s4">= </span><span class="s1">root</span><span class="s4">.</span><span class="s1">selectedNameFilterIndex</span>
        <span class="s1">root</span><span class="s4">.</span><span class="s1">favoriteFolders </span><span class="s4">= </span><span class="s1">settings</span><span class="s4">.</span><span class="s1">favoriteFolders</span>
    <span class="s4">}</span>

    <span class="s1">Component</span><span class="s4">.</span><span class="s1">onDestruction</span><span class="s4">: {</span>
        <span class="s1">settings</span><span class="s4">.</span><span class="s1">favoriteFolders </span><span class="s4">= </span><span class="s1">root</span><span class="s4">.</span><span class="s1">favoriteFolders</span>
    <span class="s4">}</span>

    <span class="s1">property Settings settings</span><span class="s4">: </span><span class="s1">Settings </span><span class="s4">{</span>
        <span class="s1">category</span><span class="s4">: </span><span class="s5">&quot;QQControlsFileDialog&quot;</span>
        <span class="s1">property alias width</span><span class="s4">: </span><span class="s1">root</span><span class="s4">.</span><span class="s1">width</span>
        <span class="s1">property alias height</span><span class="s4">: </span><span class="s1">root</span><span class="s4">.</span><span class="s1">height</span>
        <span class="s1">property alias sidebarWidth</span><span class="s4">: </span><span class="s1">sidebar</span><span class="s4">.</span><span class="s1">width</span>
        <span class="s1">property alias sidebarSplit</span><span class="s4">: </span><span class="s1">shortcutsScroll</span><span class="s4">.</span><span class="s1">height</span>
        <span class="s1">property alias sidebarVisible</span><span class="s4">: </span><span class="s1">root</span><span class="s4">.</span><span class="s1">sidebarVisible</span>
        <span class="s1">property variant favoriteFolders</span><span class="s4">: []</span>
    <span class="s4">}</span>

    <span class="s1">property bool showFocusHighlight</span><span class="s4">: </span><span class="s2">false</span>
    <span class="s1">property SystemPalette palette</span><span class="s4">: </span><span class="s1">SystemPalette </span><span class="s4">{ }</span>
    <span class="s1">property </span><span class="s2">var </span><span class="s1">favoriteFolders</span><span class="s4">: []</span>

    <span class="s2">function </span><span class="s1">dirDown</span><span class="s4">(</span><span class="s1">path</span><span class="s4">) {</span>
        <span class="s1">view</span><span class="s4">.</span><span class="s1">selection</span><span class="s4">.</span><span class="s1">clear</span><span class="s4">()</span>
        <span class="s1">root</span><span class="s4">.</span><span class="s1">folder </span><span class="s4">= </span><span class="s5">&quot;file://&quot; </span><span class="s4">+ </span><span class="s1">path</span>
    <span class="s4">}</span>
    <span class="s2">function </span><span class="s1">dirUp</span><span class="s4">() {</span>
        <span class="s1">view</span><span class="s4">.</span><span class="s1">selection</span><span class="s4">.</span><span class="s1">clear</span><span class="s4">()</span>
        <span class="s2">if </span><span class="s4">(</span><span class="s1">view</span><span class="s4">.</span><span class="s1">model</span><span class="s4">.</span><span class="s1">parentFolder </span><span class="s4">!= </span><span class="s5">&quot;&quot;</span><span class="s4">)</span>
            <span class="s1">root</span><span class="s4">.</span><span class="s1">folder </span><span class="s4">= </span><span class="s1">view</span><span class="s4">.</span><span class="s1">model</span><span class="s4">.</span><span class="s1">parentFolder</span>
    <span class="s4">}</span>
    <span class="s2">function </span><span class="s1">acceptSelection</span><span class="s4">() {</span>
        <span class="s6">// transfer the view's selections to QQuickFileDialog</span>
        <span class="s1">clearSelection</span><span class="s4">()</span>
        <span class="s2">if </span><span class="s4">(</span><span class="s1">selectFolder </span><span class="s4">&amp;&amp; </span><span class="s1">view</span><span class="s4">.</span><span class="s1">selection</span><span class="s4">.</span><span class="s1">count </span><span class="s4">=== </span><span class="s3">0</span><span class="s4">)</span>
            <span class="s1">addSelection</span><span class="s4">(</span><span class="s1">folder</span><span class="s4">)</span>
        <span class="s2">else </span><span class="s4">{</span>
            <span class="s1">view</span><span class="s4">.</span><span class="s1">selection</span><span class="s4">.</span><span class="s1">forEach</span><span class="s4">(</span><span class="s2">function</span><span class="s4">(</span><span class="s1">idx</span><span class="s4">) {</span>
                <span class="s2">if </span><span class="s4">(</span><span class="s1">view</span><span class="s4">.</span><span class="s1">model</span><span class="s4">.</span><span class="s1">isFolder</span><span class="s4">(</span><span class="s1">idx</span><span class="s4">)) {</span>
                    <span class="s2">if </span><span class="s4">(</span><span class="s1">selectFolder</span><span class="s4">)</span>
                        <span class="s1">addSelection</span><span class="s4">(</span><span class="s1">view</span><span class="s4">.</span><span class="s1">model</span><span class="s4">.</span><span class="s1">get</span><span class="s4">(</span><span class="s1">idx</span><span class="s4">, </span><span class="s5">&quot;fileURL&quot;</span><span class="s4">))</span>
                <span class="s4">} </span><span class="s2">else </span><span class="s4">{</span>
                    <span class="s2">if </span><span class="s4">(!</span><span class="s1">selectFolder</span><span class="s4">)</span>
                        <span class="s1">addSelection</span><span class="s4">(</span><span class="s1">view</span><span class="s4">.</span><span class="s1">model</span><span class="s4">.</span><span class="s1">get</span><span class="s4">(</span><span class="s1">idx</span><span class="s4">, </span><span class="s5">&quot;fileURL&quot;</span><span class="s4">))</span>
                <span class="s4">}</span>
            <span class="s4">})</span>
        <span class="s4">}</span>
        <span class="s1">accept</span><span class="s4">()</span>
    <span class="s4">}</span>

    <span class="s1">property Action dirUpAction</span><span class="s4">: </span><span class="s1">Action </span><span class="s4">{</span>
        <span class="s1">text</span><span class="s4">: </span><span class="s5">&quot;</span><span class="s2">\ue810</span><span class="s5">&quot;</span>
        <span class="s1">shortcut</span><span class="s4">: </span><span class="s5">&quot;Ctrl+U&quot;</span>
        <span class="s1">onTriggered</span><span class="s4">: </span><span class="s1">dirUp</span><span class="s4">()</span>
        <span class="s1">tooltip</span><span class="s4">: </span><span class="s1">qsTr</span><span class="s4">(</span><span class="s5">&quot;Go up to the folder containing this one&quot;</span><span class="s4">)</span>
    <span class="s4">}</span>

    <span class="s1">Rectangle </span><span class="s4">{</span>
        <span class="s1">id</span><span class="s4">: </span><span class="s1">window</span>
        <span class="s1">implicitWidth</span><span class="s4">: </span><span class="s1">Math</span><span class="s4">.</span><span class="s1">min</span><span class="s4">(</span><span class="s1">root</span><span class="s4">.</span><span class="s1">__maximumDimension</span><span class="s4">, </span><span class="s1">Math</span><span class="s4">.</span><span class="s1">max</span><span class="s4">(</span><span class="s1">Screen</span><span class="s4">.</span><span class="s1">pixelDensity </span><span class="s4">* </span><span class="s3">100</span><span class="s4">, </span><span class="s1">splitter</span><span class="s4">.</span><span class="s1">implicitWidth</span><span class="s4">))</span>
        <span class="s1">implicitHeight</span><span class="s4">: </span><span class="s1">Math</span><span class="s4">.</span><span class="s1">min</span><span class="s4">(</span><span class="s1">root</span><span class="s4">.</span><span class="s1">__maximumDimension</span><span class="s4">, </span><span class="s1">Screen</span><span class="s4">.</span><span class="s1">pixelDensity </span><span class="s4">* </span><span class="s3">80</span><span class="s4">)</span>
        <span class="s1">color</span><span class="s4">: </span><span class="s1">root</span><span class="s4">.</span><span class="s1">palette</span><span class="s4">.</span><span class="s1">window</span>

        <span class="s1">Qml</span><span class="s4">.</span><span class="s1">Binding </span><span class="s4">{</span>
            <span class="s1">target</span><span class="s4">: </span><span class="s1">view</span><span class="s4">.</span><span class="s1">model</span>
            <span class="s1">property</span><span class="s4">: </span><span class="s5">&quot;folder&quot;</span>
            <span class="s1">value</span><span class="s4">: </span><span class="s1">root</span><span class="s4">.</span><span class="s1">folder</span>
            <span class="s1">restoreMode</span><span class="s4">: </span><span class="s1">Binding</span><span class="s4">.</span><span class="s1">RestoreBinding</span>
        <span class="s4">}</span>
        <span class="s1">Qml</span><span class="s4">.</span><span class="s1">Binding </span><span class="s4">{</span>
            <span class="s1">target</span><span class="s4">: </span><span class="s1">currentPathField</span>
            <span class="s1">property</span><span class="s4">: </span><span class="s5">&quot;text&quot;</span>
            <span class="s1">value</span><span class="s4">: </span><span class="s1">root</span><span class="s4">.</span><span class="s1">urlToPath</span><span class="s4">(</span><span class="s1">root</span><span class="s4">.</span><span class="s1">folder</span><span class="s4">)</span>
            <span class="s1">restoreMode</span><span class="s4">: </span><span class="s1">Binding</span><span class="s4">.</span><span class="s1">RestoreBinding</span>
        <span class="s4">}</span>
        <span class="s1">Keys</span><span class="s4">.</span><span class="s1">onPressed</span><span class="s4">: {</span>
            <span class="s1">event</span><span class="s4">.</span><span class="s1">accepted </span><span class="s4">= </span><span class="s2">true</span>
            <span class="s2">switch </span><span class="s4">(</span><span class="s1">event</span><span class="s4">.</span><span class="s1">key</span><span class="s4">) {</span>
            <span class="s2">case </span><span class="s1">Qt</span><span class="s4">.</span><span class="s1">Key_Back</span><span class="s4">:</span>
            <span class="s2">case </span><span class="s1">Qt</span><span class="s4">.</span><span class="s1">Key_Escape</span><span class="s4">:</span>
                <span class="s1">reject</span><span class="s4">()</span>
                <span class="s2">break</span>
            <span class="s2">default</span><span class="s4">:</span>
                <span class="s1">event</span><span class="s4">.</span><span class="s1">accepted </span><span class="s4">= </span><span class="s2">false</span>
                <span class="s2">break</span>
            <span class="s4">}</span>
        <span class="s4">}</span>
        <span class="s1">Keys</span><span class="s4">.</span><span class="s1">forwardTo</span><span class="s4">: [</span><span class="s1">view</span><span class="s4">.</span><span class="s1">flickableItem</span><span class="s4">]</span>

        <span class="s1">SplitView </span><span class="s4">{</span>
            <span class="s1">id</span><span class="s4">: </span><span class="s1">splitter</span>
            <span class="s1">x</span><span class="s4">: </span><span class="s3">0</span>
            <span class="s1">width</span><span class="s4">: </span><span class="s1">parent</span><span class="s4">.</span><span class="s1">width</span>
            <span class="s1">anchors</span><span class="s4">.</span><span class="s1">top</span><span class="s4">: </span><span class="s1">titleBar</span><span class="s4">.</span><span class="s1">bottom</span>
            <span class="s1">anchors</span><span class="s4">.</span><span class="s1">bottom</span><span class="s4">: </span><span class="s1">bottomBar</span><span class="s4">.</span><span class="s1">top</span>

            <span class="s1">Column </span><span class="s4">{</span>
                <span class="s1">id</span><span class="s4">: </span><span class="s1">sidebar</span>
                <span class="s1">Component</span><span class="s4">.</span><span class="s1">onCompleted</span><span class="s4">: </span><span class="s2">if </span><span class="s4">(</span><span class="s1">width </span><span class="s4">&lt; </span><span class="s3">1</span><span class="s4">) </span><span class="s1">width </span><span class="s4">= </span><span class="s1">sidebarSplitter</span><span class="s4">.</span><span class="s1">maxShortcutWidth</span>
                <span class="s1">height</span><span class="s4">: </span><span class="s1">parent</span><span class="s4">.</span><span class="s1">height</span>
                <span class="s1">width</span><span class="s4">: </span><span class="s3">0 </span><span class="s6">// initial width only; settings and onCompleted will override it</span>
                <span class="s1">visible</span><span class="s4">: </span><span class="s1">root</span><span class="s4">.</span><span class="s1">sidebarVisible</span>
                <span class="s1">SplitView </span><span class="s4">{</span>
                    <span class="s1">id</span><span class="s4">: </span><span class="s1">sidebarSplitter</span>
                    <span class="s1">orientation</span><span class="s4">: </span><span class="s1">Qt</span><span class="s4">.</span><span class="s1">Vertical</span>
                    <span class="s1">property real rowHeight</span><span class="s4">: </span><span class="s3">10</span>
                    <span class="s1">property real maxShortcutWidth</span><span class="s4">: </span><span class="s3">80</span>
                    <span class="s1">width</span><span class="s4">: </span><span class="s1">parent</span><span class="s4">.</span><span class="s1">width</span>
                    <span class="s1">height</span><span class="s4">: </span><span class="s1">parent</span><span class="s4">.</span><span class="s1">height </span><span class="s4">- </span><span class="s1">favoritesButtons</span><span class="s4">.</span><span class="s1">height</span>

                    <span class="s1">ScrollView </span><span class="s4">{</span>
                        <span class="s1">id</span><span class="s4">: </span><span class="s1">shortcutsScroll</span>
                        <span class="s1">Component</span><span class="s4">.</span><span class="s1">onCompleted</span><span class="s4">: {</span>
                            <span class="s2">if </span><span class="s4">(</span><span class="s1">height </span><span class="s4">&lt; </span><span class="s3">1</span><span class="s4">)</span>
                                <span class="s1">height </span><span class="s4">= </span><span class="s1">sidebarSplitter</span><span class="s4">.</span><span class="s1">rowHeight </span><span class="s4">* </span><span class="s3">4.65</span>
                            <span class="s1">Layout</span><span class="s4">.</span><span class="s1">minimumHeight </span><span class="s4">= </span><span class="s1">sidebarSplitter</span><span class="s4">.</span><span class="s1">rowHeight </span><span class="s4">* </span><span class="s3">2.65</span>
                        <span class="s4">}</span>
                        <span class="s1">height</span><span class="s4">: </span><span class="s3">0 </span><span class="s6">// initial width only; settings and onCompleted will override it</span>
                        <span class="s1">ListView </span><span class="s4">{</span>
                            <span class="s1">id</span><span class="s4">: </span><span class="s1">shortcutsView</span>
                            <span class="s1">model</span><span class="s4">: </span><span class="s1">__shortcuts</span><span class="s4">.</span><span class="s1">length</span>
                            <span class="s1">anchors</span><span class="s4">.</span><span class="s1">bottomMargin</span><span class="s4">: </span><span class="s1">ControlsPrivate</span><span class="s4">.</span><span class="s1">Settings</span><span class="s4">.</span><span class="s1">hasTouchScreen </span><span class="s4">? </span><span class="s1">Screen</span><span class="s4">.</span><span class="s1">pixelDensity </span><span class="s4">* </span><span class="s3">3.5 </span><span class="s4">: </span><span class="s1">anchors</span><span class="s4">.</span><span class="s1">margins</span>
                            <span class="s1">implicitHeight</span><span class="s4">: </span><span class="s1">model</span><span class="s4">.</span><span class="s1">count </span><span class="s4">* </span><span class="s1">sidebarSplitter</span><span class="s4">.</span><span class="s1">rowHeight</span>
                            <span class="s1">delegate</span><span class="s4">: </span><span class="s1">Item </span><span class="s4">{</span>
                                <span class="s1">id</span><span class="s4">: </span><span class="s1">shortcutItem</span>
                                <span class="s1">width</span><span class="s4">: </span><span class="s1">sidebarSplitter</span><span class="s4">.</span><span class="s1">width</span>
                                <span class="s1">height</span><span class="s4">: </span><span class="s1">shortcutLabel</span><span class="s4">.</span><span class="s1">implicitHeight </span><span class="s4">* </span><span class="s3">1.5</span>
                                <span class="s1">Text </span><span class="s4">{</span>
                                    <span class="s1">id</span><span class="s4">: </span><span class="s1">shortcutLabel</span>
                                    <span class="s1">text</span><span class="s4">: </span><span class="s1">__shortcuts</span><span class="s4">[</span><span class="s1">index</span><span class="s4">].</span><span class="s1">name</span>
                                    <span class="s1">anchors </span><span class="s4">{</span>
                                        <span class="s1">verticalCenter</span><span class="s4">: </span><span class="s1">parent</span><span class="s4">.</span><span class="s1">verticalCenter</span>
                                        <span class="s1">left</span><span class="s4">: </span><span class="s1">parent</span><span class="s4">.</span><span class="s1">left</span>
                                        <span class="s1">right</span><span class="s4">: </span><span class="s1">parent</span><span class="s4">.</span><span class="s1">right</span>
                                        <span class="s1">margins</span><span class="s4">: </span><span class="s3">4</span>
                                    <span class="s4">}</span>
                                    <span class="s1">elide</span><span class="s4">: </span><span class="s1">Text</span><span class="s4">.</span><span class="s1">ElideLeft</span>
                                    <span class="s1">renderType</span><span class="s4">: </span><span class="s1">ControlsPrivate</span><span class="s4">.</span><span class="s1">Settings</span><span class="s4">.</span><span class="s1">isMobile </span><span class="s4">? </span><span class="s1">Text</span><span class="s4">.</span><span class="s1">QtRendering </span><span class="s4">: </span><span class="s1">Text</span><span class="s4">.</span><span class="s1">NativeRendering</span>
                                    <span class="s1">Component</span><span class="s4">.</span><span class="s1">onCompleted</span><span class="s4">: {</span>
                                        <span class="s1">sidebarSplitter</span><span class="s4">.</span><span class="s1">rowHeight </span><span class="s4">= </span><span class="s1">parent</span><span class="s4">.</span><span class="s1">height</span>
                                        <span class="s2">if </span><span class="s4">(</span><span class="s1">implicitWidth </span><span class="s4">* </span><span class="s3">1.2 </span><span class="s4">&gt; </span><span class="s1">sidebarSplitter</span><span class="s4">.</span><span class="s1">maxShortcutWidth</span><span class="s4">)</span>
                                            <span class="s1">sidebarSplitter</span><span class="s4">.</span><span class="s1">maxShortcutWidth </span><span class="s4">= </span><span class="s1">implicitWidth </span><span class="s4">* </span><span class="s3">1.2</span>
                                    <span class="s4">}</span>
                                <span class="s4">}</span>
                                <span class="s1">MouseArea </span><span class="s4">{</span>
                                    <span class="s1">anchors</span><span class="s4">.</span><span class="s1">fill</span><span class="s4">: </span><span class="s1">parent</span>
                                    <span class="s1">onClicked</span><span class="s4">: </span><span class="s1">root</span><span class="s4">.</span><span class="s1">folder </span><span class="s4">= </span><span class="s1">__shortcuts</span><span class="s4">[</span><span class="s1">index</span><span class="s4">].</span><span class="s1">url</span>
                                <span class="s4">}</span>
                            <span class="s4">}</span>
                        <span class="s4">}</span>
                    <span class="s4">}</span>

                    <span class="s1">ScrollView </span><span class="s4">{</span>
                        <span class="s1">Layout</span><span class="s4">.</span><span class="s1">minimumHeight</span><span class="s4">: </span><span class="s1">sidebarSplitter</span><span class="s4">.</span><span class="s1">rowHeight </span><span class="s4">* </span><span class="s3">2.5</span>
                        <span class="s1">ListView </span><span class="s4">{</span>
                            <span class="s1">id</span><span class="s4">: </span><span class="s1">favorites</span>
                            <span class="s1">model</span><span class="s4">: </span><span class="s1">root</span><span class="s4">.</span><span class="s1">favoriteFolders</span>
                            <span class="s1">anchors</span><span class="s4">.</span><span class="s1">topMargin</span><span class="s4">: </span><span class="s1">ControlsPrivate</span><span class="s4">.</span><span class="s1">Settings</span><span class="s4">.</span><span class="s1">hasTouchScreen </span><span class="s4">? </span><span class="s1">Screen</span><span class="s4">.</span><span class="s1">pixelDensity </span><span class="s4">* </span><span class="s3">3.5 </span><span class="s4">: </span><span class="s1">anchors</span><span class="s4">.</span><span class="s1">margins</span>
                            <span class="s1">delegate</span><span class="s4">: </span><span class="s1">Item </span><span class="s4">{</span>
                                <span class="s1">width</span><span class="s4">: </span><span class="s1">favorites</span><span class="s4">.</span><span class="s1">width</span>
                                <span class="s1">height</span><span class="s4">: </span><span class="s1">folderLabel</span><span class="s4">.</span><span class="s1">implicitHeight </span><span class="s4">* </span><span class="s3">1.5</span>
                                <span class="s1">Text </span><span class="s4">{</span>
                                    <span class="s1">id</span><span class="s4">: </span><span class="s1">folderLabel</span>
                                    <span class="s1">text</span><span class="s4">: </span><span class="s1">root</span><span class="s4">.</span><span class="s1">favoriteFolders</span><span class="s4">[</span><span class="s1">index</span><span class="s4">]</span>
                                    <span class="s1">anchors </span><span class="s4">{</span>
                                        <span class="s1">verticalCenter</span><span class="s4">: </span><span class="s1">parent</span><span class="s4">.</span><span class="s1">verticalCenter</span>
                                        <span class="s1">left</span><span class="s4">: </span><span class="s1">parent</span><span class="s4">.</span><span class="s1">left</span>
                                        <span class="s1">right</span><span class="s4">: </span><span class="s1">parent</span><span class="s4">.</span><span class="s1">right</span>
                                        <span class="s1">margins</span><span class="s4">: </span><span class="s3">4</span>
                                    <span class="s4">}</span>
                                    <span class="s1">elide</span><span class="s4">: </span><span class="s1">Text</span><span class="s4">.</span><span class="s1">ElideLeft</span>
                                    <span class="s1">renderType</span><span class="s4">: </span><span class="s1">ControlsPrivate</span><span class="s4">.</span><span class="s1">Settings</span><span class="s4">.</span><span class="s1">isMobile </span><span class="s4">? </span><span class="s1">Text</span><span class="s4">.</span><span class="s1">QtRendering </span><span class="s4">: </span><span class="s1">Text</span><span class="s4">.</span><span class="s1">NativeRendering</span>
                                <span class="s4">}</span>
                                <span class="s1">Menu </span><span class="s4">{</span>
                                    <span class="s1">id</span><span class="s4">: </span><span class="s1">favoriteCtxMenu</span>
                                    <span class="s1">title</span><span class="s4">: </span><span class="s1">root</span><span class="s4">.</span><span class="s1">favoriteFolders</span><span class="s4">[</span><span class="s1">index</span><span class="s4">]</span>
                                    <span class="s1">MenuItem </span><span class="s4">{</span>
                                        <span class="s1">text</span><span class="s4">: </span><span class="s1">qsTr</span><span class="s4">(</span><span class="s5">&quot;Remove favorite&quot;</span><span class="s4">)</span>
                                        <span class="s1">onTriggered</span><span class="s4">: {</span>
                                            <span class="s1">root</span><span class="s4">.</span><span class="s1">favoriteFolders</span><span class="s4">.</span><span class="s1">splice</span><span class="s4">(</span><span class="s1">index</span><span class="s4">, </span><span class="s3">1</span><span class="s4">)</span>
                                            <span class="s1">favorites</span><span class="s4">.</span><span class="s1">model </span><span class="s4">= </span><span class="s1">root</span><span class="s4">.</span><span class="s1">favoriteFolders</span>
                                        <span class="s4">}</span>
                                    <span class="s4">}</span>
                                <span class="s4">}</span>
                                <span class="s1">MouseArea </span><span class="s4">{</span>
                                    <span class="s1">id</span><span class="s4">: </span><span class="s1">favoriteArea</span>
                                    <span class="s1">anchors</span><span class="s4">.</span><span class="s1">fill</span><span class="s4">: </span><span class="s1">parent</span>
                                    <span class="s1">acceptedButtons</span><span class="s4">: </span><span class="s1">Qt</span><span class="s4">.</span><span class="s1">LeftButton </span><span class="s4">| </span><span class="s1">Qt</span><span class="s4">.</span><span class="s1">RightButton</span>
                                    <span class="s1">hoverEnabled</span><span class="s4">: </span><span class="s2">true</span>
                                    <span class="s1">onClicked</span><span class="s4">: {</span>
                                        <span class="s2">if </span><span class="s4">(</span><span class="s1">mouse</span><span class="s4">.</span><span class="s1">button </span><span class="s4">== </span><span class="s1">Qt</span><span class="s4">.</span><span class="s1">LeftButton</span><span class="s4">)</span>
                                            <span class="s1">root</span><span class="s4">.</span><span class="s1">folder </span><span class="s4">= </span><span class="s1">root</span><span class="s4">.</span><span class="s1">favoriteFolders</span><span class="s4">[</span><span class="s1">index</span><span class="s4">]</span>
                                        <span class="s2">else if </span><span class="s4">(</span><span class="s1">mouse</span><span class="s4">.</span><span class="s1">button </span><span class="s4">== </span><span class="s1">Qt</span><span class="s4">.</span><span class="s1">RightButton</span><span class="s4">)</span>
                                            <span class="s1">favoriteCtxMenu</span><span class="s4">.</span><span class="s1">popup</span><span class="s4">()</span>
                                    <span class="s4">}</span>
                                    <span class="s1">onExited</span><span class="s4">: </span><span class="s1">ControlsPrivate</span><span class="s4">.</span><span class="s1">Tooltip</span><span class="s4">.</span><span class="s1">hideText</span><span class="s4">()</span>
                                    <span class="s1">onCanceled</span><span class="s4">: </span><span class="s1">ControlsPrivate</span><span class="s4">.</span><span class="s1">Tooltip</span><span class="s4">.</span><span class="s1">hideText</span><span class="s4">()</span>
                                    <span class="s1">Timer </span><span class="s4">{</span>
                                        <span class="s1">interval</span><span class="s4">: </span><span class="s3">1000</span>
                                        <span class="s1">running</span><span class="s4">: </span><span class="s1">favoriteArea</span><span class="s4">.</span><span class="s1">containsMouse </span><span class="s4">&amp;&amp; !</span><span class="s1">favoriteArea</span><span class="s4">.</span><span class="s1">pressed </span><span class="s4">&amp;&amp; </span><span class="s1">folderLabel</span><span class="s4">.</span><span class="s1">truncated</span>
                                        <span class="s1">onTriggered</span><span class="s4">: </span><span class="s1">ControlsPrivate</span><span class="s4">.</span><span class="s1">Tooltip</span><span class="s4">.</span><span class="s1">showText</span><span class="s4">(</span><span class="s1">favoriteArea</span><span class="s4">,</span>
                                                <span class="s1">Qt</span><span class="s4">.</span><span class="s1">point</span><span class="s4">(</span><span class="s1">favoriteArea</span><span class="s4">.</span><span class="s1">mouseX</span><span class="s4">, </span><span class="s1">favoriteArea</span><span class="s4">.</span><span class="s1">mouseY</span><span class="s4">), </span><span class="s1">urlToPath</span><span class="s4">(</span><span class="s1">root</span><span class="s4">.</span><span class="s1">favoriteFolders</span><span class="s4">[</span><span class="s1">index</span><span class="s4">]))</span>
                                    <span class="s4">}</span>
                                <span class="s4">}</span>
                            <span class="s4">}</span>
                        <span class="s4">}</span>
                    <span class="s4">}</span>
                <span class="s4">}</span>

                <span class="s1">Row </span><span class="s4">{</span>
                    <span class="s1">id</span><span class="s4">: </span><span class="s1">favoritesButtons</span>
                    <span class="s1">height</span><span class="s4">: </span><span class="s1">plusButton</span><span class="s4">.</span><span class="s1">height </span><span class="s4">+ </span><span class="s3">1</span>
                    <span class="s1">anchors</span><span class="s4">.</span><span class="s1">right</span><span class="s4">: </span><span class="s1">parent</span><span class="s4">.</span><span class="s1">right</span>
                    <span class="s1">anchors</span><span class="s4">.</span><span class="s1">rightMargin</span><span class="s4">: </span><span class="s3">6</span>
                    <span class="s1">layoutDirection</span><span class="s4">: </span><span class="s1">Qt</span><span class="s4">.</span><span class="s1">RightToLeft</span>
                    <span class="s1">Button </span><span class="s4">{</span>
                        <span class="s1">id</span><span class="s4">: </span><span class="s1">plusButton</span>
                        <span class="s1">style</span><span class="s4">: </span><span class="s1">IconButtonStyle </span><span class="s4">{ }</span>
                        <span class="s1">text</span><span class="s4">: </span><span class="s5">&quot;</span><span class="s2">\ue83e</span><span class="s5">&quot;</span>
                        <span class="s1">tooltip</span><span class="s4">: </span><span class="s1">qsTr</span><span class="s4">(</span><span class="s5">&quot;Add the current directory as a favorite&quot;</span><span class="s4">)</span>
                        <span class="s1">width</span><span class="s4">: </span><span class="s1">height</span>
                        <span class="s1">onClicked</span><span class="s4">: {</span>
                            <span class="s1">root</span><span class="s4">.</span><span class="s1">favoriteFolders</span><span class="s4">.</span><span class="s1">push</span><span class="s4">(</span><span class="s1">root</span><span class="s4">.</span><span class="s1">folder</span><span class="s4">)</span>
                            <span class="s1">favorites</span><span class="s4">.</span><span class="s1">model </span><span class="s4">= </span><span class="s1">root</span><span class="s4">.</span><span class="s1">favoriteFolders</span>
                        <span class="s4">}</span>
                    <span class="s4">}</span>
                <span class="s4">}</span>
            <span class="s4">}</span>

            <span class="s1">TableView </span><span class="s4">{</span>
                <span class="s1">id</span><span class="s4">: </span><span class="s1">view</span>
                <span class="s1">sortIndicatorVisible</span><span class="s4">: </span><span class="s2">true</span>
                <span class="s1">Layout</span><span class="s4">.</span><span class="s1">fillWidth</span><span class="s4">: </span><span class="s2">true</span>
                <span class="s1">Layout</span><span class="s4">.</span><span class="s1">minimumWidth</span><span class="s4">: </span><span class="s3">40</span>
                <span class="s1">property bool needsWidthAdjustment</span><span class="s4">: </span><span class="s2">true</span>
                <span class="s1">selectionMode</span><span class="s4">: </span><span class="s1">root</span><span class="s4">.</span><span class="s1">selectMultiple </span><span class="s4">?</span>
                    <span class="s4">(</span><span class="s1">ControlsPrivate</span><span class="s4">.</span><span class="s1">Settings</span><span class="s4">.</span><span class="s1">hasTouchScreen </span><span class="s4">? </span><span class="s1">SelectionMode</span><span class="s4">.</span><span class="s1">MultiSelection </span><span class="s4">: </span><span class="s1">SelectionMode</span><span class="s4">.</span><span class="s1">ExtendedSelection</span><span class="s4">) :</span>
                    <span class="s1">SelectionMode</span><span class="s4">.</span><span class="s1">SingleSelection</span>
                <span class="s1">onRowCountChanged</span><span class="s4">: </span><span class="s2">if </span><span class="s4">(</span><span class="s1">needsWidthAdjustment </span><span class="s4">&amp;&amp; </span><span class="s1">rowCount </span><span class="s4">&gt; </span><span class="s3">0</span><span class="s4">) {</span>
                    <span class="s1">resizeColumnsToContents</span><span class="s4">()</span>
                    <span class="s1">needsWidthAdjustment </span><span class="s4">= </span><span class="s2">false</span>
                <span class="s4">}</span>
                <span class="s1">model</span><span class="s4">: </span><span class="s2">null</span>

                <span class="s1">onActivated</span><span class="s4">: </span><span class="s2">if </span><span class="s4">(</span><span class="s1">view</span><span class="s4">.</span><span class="s1">focus</span><span class="s4">) {</span>
                    <span class="s2">if </span><span class="s4">(</span><span class="s1">view</span><span class="s4">.</span><span class="s1">selection</span><span class="s4">.</span><span class="s1">count </span><span class="s4">&gt; </span><span class="s3">0 </span><span class="s4">&amp;&amp; </span><span class="s1">view</span><span class="s4">.</span><span class="s1">model</span><span class="s4">.</span><span class="s1">isFolder</span><span class="s4">(</span><span class="s1">row</span><span class="s4">)) {</span>
                        <span class="s1">dirDown</span><span class="s4">(</span><span class="s1">view</span><span class="s4">.</span><span class="s1">model</span><span class="s4">.</span><span class="s1">get</span><span class="s4">(</span><span class="s1">row</span><span class="s4">, </span><span class="s5">&quot;filePath&quot;</span><span class="s4">))</span>
                    <span class="s4">} </span><span class="s2">else </span><span class="s4">{</span>
                        <span class="s1">root</span><span class="s4">.</span><span class="s1">acceptSelection</span><span class="s4">()</span>
                    <span class="s4">}</span>
                <span class="s4">}</span>
                <span class="s1">onClicked</span><span class="s4">: </span><span class="s1">currentPathField</span><span class="s4">.</span><span class="s1">text </span><span class="s4">= </span><span class="s1">view</span><span class="s4">.</span><span class="s1">model</span><span class="s4">.</span><span class="s1">get</span><span class="s4">(</span><span class="s1">row</span><span class="s4">, </span><span class="s5">&quot;filePath&quot;</span><span class="s4">)</span>


                <span class="s1">TableViewColumn </span><span class="s4">{</span>
                    <span class="s1">id</span><span class="s4">: </span><span class="s1">fileNameColumn</span>
                    <span class="s1">role</span><span class="s4">: </span><span class="s5">&quot;fileName&quot;</span>
                    <span class="s1">title</span><span class="s4">: </span><span class="s1">qsTr</span><span class="s4">(</span><span class="s5">&quot;Filename&quot;</span><span class="s4">)</span>
                    <span class="s1">delegate</span><span class="s4">: </span><span class="s1">Item </span><span class="s4">{</span>
                        <span class="s1">implicitWidth</span><span class="s4">: </span><span class="s1">pathText</span><span class="s4">.</span><span class="s1">implicitWidth </span><span class="s4">+ </span><span class="s1">pathText</span><span class="s4">.</span><span class="s1">anchors</span><span class="s4">.</span><span class="s1">leftMargin </span><span class="s4">+ </span><span class="s1">pathText</span><span class="s4">.</span><span class="s1">anchors</span><span class="s4">.</span><span class="s1">rightMargin</span>
                        <span class="s1">IconGlyph </span><span class="s4">{</span>
                            <span class="s1">id</span><span class="s4">: </span><span class="s1">fileIcon</span>
                            <span class="s1">x</span><span class="s4">: </span><span class="s3">4</span>
                            <span class="s1">height</span><span class="s4">: </span><span class="s1">parent</span><span class="s4">.</span><span class="s1">height </span><span class="s4">- </span><span class="s3">2</span>
                            <span class="s1">unicode</span><span class="s4">: </span><span class="s1">view</span><span class="s4">.</span><span class="s1">model</span><span class="s4">.</span><span class="s1">isFolder</span><span class="s4">(</span><span class="s1">styleData</span><span class="s4">.</span><span class="s1">row</span><span class="s4">) ? </span><span class="s5">&quot;</span><span class="s2">\ue804</span><span class="s5">&quot; </span><span class="s4">: </span><span class="s5">&quot;</span><span class="s2">\ue802</span><span class="s5">&quot;</span>
                        <span class="s4">}</span>
                        <span class="s1">Text </span><span class="s4">{</span>
                            <span class="s1">id</span><span class="s4">: </span><span class="s1">pathText</span>
                            <span class="s1">text</span><span class="s4">: </span><span class="s1">styleData</span><span class="s4">.</span><span class="s1">value</span>
                            <span class="s1">anchors </span><span class="s4">{</span>
                                <span class="s1">left</span><span class="s4">: </span><span class="s1">parent</span><span class="s4">.</span><span class="s1">left</span>
                                <span class="s1">right</span><span class="s4">: </span><span class="s1">parent</span><span class="s4">.</span><span class="s1">right</span>
                                <span class="s1">leftMargin</span><span class="s4">: </span><span class="s1">fileIcon</span><span class="s4">.</span><span class="s1">width </span><span class="s4">+ </span><span class="s3">6</span>
                                <span class="s1">rightMargin</span><span class="s4">: </span><span class="s3">4</span>
                                <span class="s1">verticalCenter</span><span class="s4">: </span><span class="s1">parent</span><span class="s4">.</span><span class="s1">verticalCenter</span>
                            <span class="s4">}</span>
                            <span class="s1">color</span><span class="s4">: </span><span class="s1">styleData</span><span class="s4">.</span><span class="s1">textColor</span>
                            <span class="s1">elide</span><span class="s4">: </span><span class="s1">Text</span><span class="s4">.</span><span class="s1">ElideRight</span>
                            <span class="s1">renderType</span><span class="s4">: </span><span class="s1">ControlsPrivate</span><span class="s4">.</span><span class="s1">Settings</span><span class="s4">.</span><span class="s1">isMobile </span><span class="s4">? </span><span class="s1">Text</span><span class="s4">.</span><span class="s1">QtRendering </span><span class="s4">: </span><span class="s1">Text</span><span class="s4">.</span><span class="s1">NativeRendering</span>
                        <span class="s4">}</span>
                    <span class="s4">}</span>
                <span class="s4">}</span>
                <span class="s1">TableViewColumn </span><span class="s4">{</span>
                    <span class="s1">role</span><span class="s4">: </span><span class="s5">&quot;fileSuffix&quot;</span>
                    <span class="s1">title</span><span class="s4">: </span><span class="s1">qsTr</span><span class="s4">(</span><span class="s5">&quot;Type&quot;</span><span class="s4">, </span><span class="s5">&quot;file type (extension)&quot;</span><span class="s4">)</span>
                    <span class="s6">// TODO should not need to create a whole new component just to customize the text value</span>
                    <span class="s6">// something like textFormat: function(text) { return view.model.get(styleData.row, &quot;fileIsDir&quot;) ? &quot;folder&quot; : text }</span>
                    <span class="s1">delegate</span><span class="s4">: </span><span class="s1">Item </span><span class="s4">{</span>
                        <span class="s1">implicitWidth</span><span class="s4">: </span><span class="s1">sizeText</span><span class="s4">.</span><span class="s1">implicitWidth </span><span class="s4">+ </span><span class="s1">sizeText</span><span class="s4">.</span><span class="s1">anchors</span><span class="s4">.</span><span class="s1">leftMargin </span><span class="s4">+ </span><span class="s1">sizeText</span><span class="s4">.</span><span class="s1">anchors</span><span class="s4">.</span><span class="s1">rightMargin</span>
                        <span class="s1">Text </span><span class="s4">{</span>
                            <span class="s1">id</span><span class="s4">: </span><span class="s1">sizeText</span>
                            <span class="s1">text</span><span class="s4">: </span><span class="s1">view</span><span class="s4">.</span><span class="s1">model</span><span class="s4">.</span><span class="s1">get</span><span class="s4">(</span><span class="s1">styleData</span><span class="s4">.</span><span class="s1">row</span><span class="s4">, </span><span class="s5">&quot;fileIsDir&quot;</span><span class="s4">) ? </span><span class="s5">&quot;folder&quot; </span><span class="s4">: </span><span class="s1">styleData</span><span class="s4">.</span><span class="s1">value</span>
                            <span class="s1">anchors </span><span class="s4">{</span>
                                <span class="s1">left</span><span class="s4">: </span><span class="s1">parent</span><span class="s4">.</span><span class="s1">left</span>
                                <span class="s1">right</span><span class="s4">: </span><span class="s1">parent</span><span class="s4">.</span><span class="s1">right</span>
                                <span class="s1">leftMargin</span><span class="s4">: </span><span class="s3">4</span>
                                <span class="s1">rightMargin</span><span class="s4">: </span><span class="s3">4</span>
                                <span class="s1">verticalCenter</span><span class="s4">: </span><span class="s1">parent</span><span class="s4">.</span><span class="s1">verticalCenter</span>
                            <span class="s4">}</span>
                            <span class="s1">color</span><span class="s4">: </span><span class="s1">styleData</span><span class="s4">.</span><span class="s1">textColor</span>
                            <span class="s1">elide</span><span class="s4">: </span><span class="s1">Text</span><span class="s4">.</span><span class="s1">ElideRight</span>
                            <span class="s1">renderType</span><span class="s4">: </span><span class="s1">ControlsPrivate</span><span class="s4">.</span><span class="s1">Settings</span><span class="s4">.</span><span class="s1">isMobile </span><span class="s4">? </span><span class="s1">Text</span><span class="s4">.</span><span class="s1">QtRendering </span><span class="s4">: </span><span class="s1">Text</span><span class="s4">.</span><span class="s1">NativeRendering</span>
                        <span class="s4">}</span>
                    <span class="s4">}</span>
                <span class="s4">}</span>
                <span class="s1">TableViewColumn </span><span class="s4">{</span>
                    <span class="s1">role</span><span class="s4">: </span><span class="s5">&quot;fileSize&quot;</span>
                    <span class="s1">title</span><span class="s4">: </span><span class="s1">qsTr</span><span class="s4">(</span><span class="s5">&quot;Size&quot;</span><span class="s4">, </span><span class="s5">&quot;file size&quot;</span><span class="s4">)</span>
                    <span class="s1">horizontalAlignment</span><span class="s4">: </span><span class="s1">Text</span><span class="s4">.</span><span class="s1">AlignRight</span>
                <span class="s4">}</span>
                <span class="s1">TableViewColumn </span><span class="s4">{ </span><span class="s1">id</span><span class="s4">: </span><span class="s1">modifiedColumn</span><span class="s4">; </span><span class="s1">role</span><span class="s4">: </span><span class="s5">&quot;fileModified&quot; </span><span class="s4">; </span><span class="s1">title</span><span class="s4">: </span><span class="s1">qsTr</span><span class="s4">(</span><span class="s5">&quot;Modified&quot;</span><span class="s4">, </span><span class="s5">&quot;last-modified time&quot;</span><span class="s4">) }</span>
                <span class="s1">TableViewColumn </span><span class="s4">{ </span><span class="s1">id</span><span class="s4">: </span><span class="s1">accessedColumn</span><span class="s4">; </span><span class="s1">role</span><span class="s4">: </span><span class="s5">&quot;fileAccessed&quot; </span><span class="s4">; </span><span class="s1">title</span><span class="s4">: </span><span class="s1">qsTr</span><span class="s4">(</span><span class="s5">&quot;Accessed&quot;</span><span class="s4">, </span><span class="s5">&quot;last-accessed time&quot;</span><span class="s4">) }</span>
            <span class="s4">}</span>
        <span class="s4">}</span>

        <span class="s1">ToolBar </span><span class="s4">{</span>
            <span class="s1">id</span><span class="s4">: </span><span class="s1">titleBar</span>
            <span class="s1">RowLayout </span><span class="s4">{</span>
                <span class="s1">anchors</span><span class="s4">.</span><span class="s1">fill</span><span class="s4">: </span><span class="s1">parent</span>
                <span class="s1">ToolButton </span><span class="s4">{</span>
                    <span class="s1">action</span><span class="s4">: </span><span class="s1">dirUpAction</span>
                    <span class="s1">style</span><span class="s4">: </span><span class="s1">IconButtonStyle </span><span class="s4">{ }</span>
                    <span class="s1">Layout</span><span class="s4">.</span><span class="s1">maximumWidth</span><span class="s4">: </span><span class="s1">height </span><span class="s4">* </span><span class="s3">1.5</span>
                <span class="s4">}</span>
                <span class="s1">TextField </span><span class="s4">{</span>
                    <span class="s1">id</span><span class="s4">: </span><span class="s1">currentPathField</span>
                    <span class="s1">Layout</span><span class="s4">.</span><span class="s1">fillWidth</span><span class="s4">: </span><span class="s2">true</span>
                    <span class="s2">function </span><span class="s1">doAccept</span><span class="s4">() {</span>
                        <span class="s1">root</span><span class="s4">.</span><span class="s1">clearSelection</span><span class="s4">()</span>
                        <span class="s2">if </span><span class="s4">(</span><span class="s1">root</span><span class="s4">.</span><span class="s1">addSelection</span><span class="s4">(</span><span class="s1">root</span><span class="s4">.</span><span class="s1">pathToUrl</span><span class="s4">(</span><span class="s1">text</span><span class="s4">)))</span>
                            <span class="s1">root</span><span class="s4">.</span><span class="s1">accept</span><span class="s4">()</span>
                        <span class="s2">else</span>
                            <span class="s1">root</span><span class="s4">.</span><span class="s1">folder </span><span class="s4">= </span><span class="s1">root</span><span class="s4">.</span><span class="s1">pathFolder</span><span class="s4">(</span><span class="s1">text</span><span class="s4">)</span>
                    <span class="s4">}</span>
                    <span class="s1">onAccepted</span><span class="s4">: </span><span class="s1">doAccept</span><span class="s4">()</span>
                <span class="s4">}</span>
            <span class="s4">}</span>
        <span class="s4">}</span>
        <span class="s1">Item </span><span class="s4">{</span>
            <span class="s1">id</span><span class="s4">: </span><span class="s1">bottomBar</span>
            <span class="s1">width</span><span class="s4">: </span><span class="s1">parent</span><span class="s4">.</span><span class="s1">width</span>
            <span class="s1">height</span><span class="s4">: </span><span class="s1">buttonRow</span><span class="s4">.</span><span class="s1">height </span><span class="s4">+ </span><span class="s1">buttonRow</span><span class="s4">.</span><span class="s1">spacing </span><span class="s4">* </span><span class="s3">2</span>
            <span class="s1">anchors</span><span class="s4">.</span><span class="s1">bottom</span><span class="s4">: </span><span class="s1">parent</span><span class="s4">.</span><span class="s1">bottom</span>

            <span class="s1">Row </span><span class="s4">{</span>
                <span class="s1">id</span><span class="s4">: </span><span class="s1">buttonRow</span>
                <span class="s1">anchors</span><span class="s4">.</span><span class="s1">right</span><span class="s4">: </span><span class="s1">parent</span><span class="s4">.</span><span class="s1">right</span>
                <span class="s1">anchors</span><span class="s4">.</span><span class="s1">rightMargin</span><span class="s4">: </span><span class="s1">spacing</span>
                <span class="s1">anchors</span><span class="s4">.</span><span class="s1">verticalCenter</span><span class="s4">: </span><span class="s1">parent</span><span class="s4">.</span><span class="s1">verticalCenter</span>
                <span class="s1">spacing</span><span class="s4">: </span><span class="s3">4</span>
                <span class="s1">Button </span><span class="s4">{</span>
                    <span class="s1">id</span><span class="s4">: </span><span class="s1">toggleSidebarButton</span>
                    <span class="s1">checkable</span><span class="s4">: </span><span class="s2">true</span>
                    <span class="s1">style</span><span class="s4">: </span><span class="s1">IconButtonStyle </span><span class="s4">{ }</span>
                    <span class="s1">text</span><span class="s4">: </span><span class="s5">&quot;</span><span class="s2">\u25E7</span><span class="s5">&quot;</span>
                    <span class="s1">height</span><span class="s4">: </span><span class="s1">cancelButton</span><span class="s4">.</span><span class="s1">height</span>
                    <span class="s1">width</span><span class="s4">: </span><span class="s1">height</span>
                    <span class="s1">checked</span><span class="s4">: </span><span class="s1">root</span><span class="s4">.</span><span class="s1">sidebarVisible</span>
                    <span class="s1">onClicked</span><span class="s4">: {</span>
                        <span class="s1">root</span><span class="s4">.</span><span class="s1">sidebarVisible </span><span class="s4">= !</span><span class="s1">root</span><span class="s4">.</span><span class="s1">sidebarVisible</span>
                    <span class="s4">}</span>
                <span class="s4">}</span>
                <span class="s1">ComboBox </span><span class="s4">{</span>
                    <span class="s1">id</span><span class="s4">: </span><span class="s1">filterField</span>
                    <span class="s1">model</span><span class="s4">: </span><span class="s1">root</span><span class="s4">.</span><span class="s1">nameFilters</span>
                    <span class="s1">visible</span><span class="s4">: !</span><span class="s1">selectFolder</span>
                    <span class="s1">width</span><span class="s4">: </span><span class="s1">bottomBar</span><span class="s4">.</span><span class="s1">width </span><span class="s4">- </span><span class="s1">toggleSidebarButton</span><span class="s4">.</span><span class="s1">width </span><span class="s4">- </span><span class="s1">cancelButton</span><span class="s4">.</span><span class="s1">width </span><span class="s4">- </span><span class="s1">okButton</span><span class="s4">.</span><span class="s1">width </span><span class="s4">- </span><span class="s1">parent</span><span class="s4">.</span><span class="s1">spacing </span><span class="s4">* </span><span class="s3">6</span>
                    <span class="s1">anchors</span><span class="s4">.</span><span class="s1">verticalCenter</span><span class="s4">: </span><span class="s1">parent</span><span class="s4">.</span><span class="s1">verticalCenter</span>
                    <span class="s1">onCurrentTextChanged</span><span class="s4">: {</span>
                        <span class="s1">root</span><span class="s4">.</span><span class="s1">selectNameFilter</span><span class="s4">(</span><span class="s1">currentText</span><span class="s4">)</span>
                        <span class="s2">if </span><span class="s4">(</span><span class="s1">view</span><span class="s4">.</span><span class="s1">model</span><span class="s4">)</span>
                            <span class="s1">view</span><span class="s4">.</span><span class="s1">model</span><span class="s4">.</span><span class="s1">nameFilters </span><span class="s4">= </span><span class="s1">root</span><span class="s4">.</span><span class="s1">selectedNameFilterExtensions</span>
                    <span class="s4">}</span>
                <span class="s4">}</span>
                <span class="s1">Button </span><span class="s4">{</span>
                    <span class="s1">id</span><span class="s4">: </span><span class="s1">cancelButton</span>
                    <span class="s1">text</span><span class="s4">: </span><span class="s1">qsTr</span><span class="s4">(</span><span class="s5">&quot;Cancel&quot;</span><span class="s4">)</span>
                    <span class="s1">onClicked</span><span class="s4">: </span><span class="s1">root</span><span class="s4">.</span><span class="s1">reject</span><span class="s4">()</span>
                <span class="s4">}</span>
                <span class="s1">Button </span><span class="s4">{</span>
                    <span class="s1">id</span><span class="s4">: </span><span class="s1">okButton</span>
                    <span class="s1">text</span><span class="s4">: </span><span class="s1">root</span><span class="s4">.</span><span class="s1">selectFolder </span><span class="s4">? </span><span class="s1">qsTr</span><span class="s4">(</span><span class="s5">&quot;Choose&quot;</span><span class="s4">) : (</span><span class="s1">selectExisting </span><span class="s4">? </span><span class="s1">qsTr</span><span class="s4">(</span><span class="s5">&quot;Open&quot;</span><span class="s4">) : </span><span class="s1">qsTr</span><span class="s4">(</span><span class="s5">&quot;Save&quot;</span><span class="s4">))</span>
                    <span class="s1">onClicked</span><span class="s4">: {</span>
                        <span class="s2">if </span><span class="s4">(</span><span class="s1">view</span><span class="s4">.</span><span class="s1">model</span><span class="s4">.</span><span class="s1">isFolder</span><span class="s4">(</span><span class="s1">view</span><span class="s4">.</span><span class="s1">currentRow</span><span class="s4">) &amp;&amp; !</span><span class="s1">selectFolder</span><span class="s4">)</span>
                            <span class="s1">dirDown</span><span class="s4">(</span><span class="s1">view</span><span class="s4">.</span><span class="s1">model</span><span class="s4">.</span><span class="s1">get</span><span class="s4">(</span><span class="s1">view</span><span class="s4">.</span><span class="s1">currentRow</span><span class="s4">, </span><span class="s5">&quot;filePath&quot;</span><span class="s4">))</span>
                        <span class="s2">else if </span><span class="s4">(!(</span><span class="s1">root</span><span class="s4">.</span><span class="s1">selectExisting</span><span class="s4">))</span>
                            <span class="s1">currentPathField</span><span class="s4">.</span><span class="s1">doAccept</span><span class="s4">()</span>
                        <span class="s2">else</span>
                            <span class="s1">root</span><span class="s4">.</span><span class="s1">acceptSelection</span><span class="s4">()</span>
                    <span class="s4">}</span>
                <span class="s4">}</span>
            <span class="s4">}</span>
        <span class="s4">}</span>
    <span class="s4">}</span>
<span class="s4">}</span>
</pre>
</body>
</html>