<html>
<head>
<title>Video.qml</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #5f826b; font-style: italic;}
.s1 { color: #bcbec4;}
.s2 { color: #cf8e6d;}
.s3 { color: #2aacb8;}
.s4 { color: #7a7e85;}
.s5 { color: #bcbec4;}
</style>
</head>
<body bgcolor="#1e1f22">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
Video.qml</font>
</center></td></tr></table>
<pre><span class="s0">/****************************************************************************</span>
<span class="s0">**</span>
<span class="s0">** Copyright (C) 2016 The Qt Company Ltd.</span>
<span class="s0">** Contact: https://www.qt.io/licensing/</span>
<span class="s0">**</span>
<span class="s0">** This file is part of the Qt Toolkit.</span>
<span class="s0">**</span>
<span class="s0">** $QT_BEGIN_LICENSE:LGPL$</span>
<span class="s0">** Commercial License Usage</span>
<span class="s0">** Licensees holding valid commercial Qt licenses may use this file in</span>
<span class="s0">** accordance with the commercial license agreement provided with the</span>
<span class="s0">** Software or, alternatively, in accordance with the terms contained in</span>
<span class="s0">** a written agreement between you and The Qt Company. For licensing terms</span>
<span class="s0">** and conditions see https://www.qt.io/terms-conditions. For further</span>
<span class="s0">** information use the contact form at https://www.qt.io/contact-us.</span>
<span class="s0">**</span>
<span class="s0">** GNU Lesser General Public License Usage</span>
<span class="s0">** Alternatively, this file may be used under the terms of the GNU Lesser</span>
<span class="s0">** General Public License version 3 as published by the Free Software</span>
<span class="s0">** Foundation and appearing in the file LICENSE.LGPL3 included in the</span>
<span class="s0">** packaging of this file. Please review the following information to</span>
<span class="s0">** ensure the GNU Lesser General Public License version 3 requirements</span>
<span class="s0">** will be met: https://www.gnu.org/licenses/lgpl-3.0.html.</span>
<span class="s0">**</span>
<span class="s0">** GNU General Public License Usage</span>
<span class="s0">** Alternatively, this file may be used under the terms of the GNU</span>
<span class="s0">** General Public License version 2.0 or (at your option) the GNU General</span>
<span class="s0">** Public license version 3 or any later version approved by the KDE Free</span>
<span class="s0">** Qt Foundation. The licenses are as published by the Free Software</span>
<span class="s0">** Foundation and appearing in the file LICENSE.GPL2 and LICENSE.GPL3</span>
<span class="s0">** included in the packaging of this file. Please review the following</span>
<span class="s0">** information to ensure the GNU General Public License requirements will</span>
<span class="s0">** be met: https://www.gnu.org/licenses/gpl-2.0.html and</span>
<span class="s0">** https://www.gnu.org/licenses/gpl-3.0.html.</span>
<span class="s0">**</span>
<span class="s0">** $QT_END_LICENSE$</span>
<span class="s0">**</span>
<span class="s0">****************************************************************************/</span>

<span class="s2">import </span><span class="s1">QtQuick </span><span class="s3">2.0</span>
<span class="s2">import </span><span class="s1">QtMultimedia </span><span class="s3">5.13</span>

<span class="s4">/*! 
    \qmltype Video 
    \inherits Item 
    \ingroup multimedia_qml 
    \ingroup multimedia_video_qml 
    \inqmlmodule QtMultimedia 
    \brief A convenience type for showing a specified video. 
 
    \c Video is a convenience type combining the functionality 
    of a \l MediaPlayer and a \l VideoOutput into one. It provides 
    simple video playback functionality without having to declare multiple 
    types. 
 
    \qml 
    Video { 
        id: video 
        width : 800 
        height : 600 
        source: &quot;video.avi&quot; 
 
        MouseArea { 
            anchors.fill: parent 
            onClicked: { 
                video.play() 
            } 
        } 
 
        focus: true 
        Keys.onSpacePressed: video.playbackState == MediaPlayer.PlayingState ? video.pause() : video.play() 
        Keys.onLeftPressed: video.seek(video.position - 5000) 
        Keys.onRightPressed: video.seek(video.position + 5000) 
    } 
    \endqml 
 
    \c Video supports untransformed, stretched, and uniformly scaled 
    video presentation. For a description of stretched uniformly scaled 
    presentation, see the \l fillMode property description. 
 
    \sa MediaPlayer, VideoOutput 
 
\omit 
    \section1 Screen Saver 
 
    If it is likely that an application will be playing video for an extended 
    period of time without user interaction, it may be necessary to disable 
    the platform's screen saver. The \l ScreenSaver (from \l QtSystemInfo) 
    may be used to disable the screensaver in this fashion: 
 
    \qml 
    import QtSystemInfo 5.0 
 
    ScreenSaver { screenSaverEnabled: false } 
    \endqml 
\endomit 
*/</span>

<span class="s4">// TODO: Restore Qt System Info docs when the module is released</span>

<span class="s1">Item </span><span class="s5">{</span>
    <span class="s1">id</span><span class="s5">: </span><span class="s1">video</span>

    <span class="s0">/*** Properties of VideoOutput ***/</span>
    <span class="s4">/*! 
        \qmlproperty enumeration Video::fillMode 
 
        Set this property to define how the video is scaled to fit the target 
        area. 
 
        \list 
        \li VideoOutput.Stretch - the video is scaled to fit 
        \li VideoOutput.PreserveAspectFit - the video is scaled uniformly to fit without 
            cropping 
        \li VideoOutput.PreserveAspectCrop - the video is scaled uniformly to fill, cropping 
            if necessary 
        \endlist 
 
        Because this type is for convenience in QML, it does not 
        support enumerations directly, so enumerations from \c VideoOutput are 
        used to access the available fill modes. 
 
        The default fill mode is preserveAspectFit. 
    */</span>
    <span class="s1">property alias fillMode</span><span class="s5">:            </span><span class="s1">videoOut</span><span class="s5">.</span><span class="s1">fillMode</span>

    <span class="s4">/*! 
        \qmlproperty enumeration Video::flushMode 
 
        Set this property to define what \c Video should show 
        when playback is finished or stopped. 
 
        \list 
        \li VideoOutput.EmptyFrame - clears video output. 
        \li VideoOutput.FirstFrame - shows the first valid frame. 
        \li VideoOutput.LastFrame - shows the last valid frame. 
        \endlist 
 
        The default flush mode is EmptyFrame. 
        \since 5.15 
    */</span>
    <span class="s1">property alias flushMode</span><span class="s5">:            </span><span class="s1">videoOut</span><span class="s5">.</span><span class="s1">flushMode</span>

    <span class="s4">/*! 
        \qmlproperty int Video::orientation 
 
        The orientation of the \c Video in degrees. Only multiples of 90 
        degrees is supported, that is 0, 90, 180, 270, 360, etc. 
    */</span>
    <span class="s1">property alias orientation</span><span class="s5">:         </span><span class="s1">videoOut</span><span class="s5">.</span><span class="s1">orientation</span>


    <span class="s0">/*** Properties of MediaPlayer ***/</span>

    <span class="s4">/*! 
        \qmlproperty enumeration Video::playbackState 
 
        This read only property indicates the playback state of the media. 
 
        \list 
        \li MediaPlayer.PlayingState - the media is playing 
        \li MediaPlayer.PausedState - the media is paused 
        \li MediaPlayer.StoppedState - the media is stopped 
        \endlist 
 
        The default state is MediaPlayer.StoppedState. 
    */</span>
    <span class="s1">property alias playbackState</span><span class="s5">:        </span><span class="s1">player</span><span class="s5">.</span><span class="s1">playbackState</span>

    <span class="s4">/*! 
        \qmlproperty bool Video::autoLoad 
 
        This property indicates if loading of media should begin immediately. 
 
        Defaults to true, if false media will not be loaded until playback is 
        started. 
    */</span>
    <span class="s1">property alias autoLoad</span><span class="s5">:        </span><span class="s1">player</span><span class="s5">.</span><span class="s1">autoLoad</span>

    <span class="s4">/*! 
        \qmlproperty real Video::bufferProgress 
 
        This property holds how much of the data buffer is currently filled, 
        from 0.0 (empty) to 1.0 
        (full). 
    */</span>
    <span class="s1">property alias bufferProgress</span><span class="s5">:  </span><span class="s1">player</span><span class="s5">.</span><span class="s1">bufferProgress</span>

    <span class="s4">/*! 
        \qmlproperty int Video::duration 
 
        This property holds the duration of the media in milliseconds. 
 
        If the media doesn't have a fixed duration (a live stream for example) 
        this will be 0. 
    */</span>
    <span class="s1">property alias duration</span><span class="s5">:        </span><span class="s1">player</span><span class="s5">.</span><span class="s1">duration</span>

    <span class="s4">/*! 
        \qmlproperty enumeration Video::error 
 
        This property holds the error state of the video.  It can be one of: 
 
        \list 
        \li MediaPlayer.NoError - there is no current error. 
        \li MediaPlayer.ResourceError - the video cannot be played due to a problem 
            allocating resources. 
        \li MediaPlayer.FormatError - the video format is not supported. 
        \li MediaPlayer.NetworkError - the video cannot be played due to network issues. 
        \li MediaPlayer.AccessDenied - the video cannot be played due to insufficient 
            permissions. 
        \li MediaPlayer.ServiceMissing -  the video cannot be played because the media 
            service could not be 
        instantiated. 
        \endlist 
    */</span>
    <span class="s1">property alias error</span><span class="s5">:           </span><span class="s1">player</span><span class="s5">.</span><span class="s1">error</span>

    <span class="s4">/*! 
        \qmlproperty string Video::errorString 
 
        This property holds a string describing the current error condition in more detail. 
    */</span>
    <span class="s1">property alias errorString</span><span class="s5">:     </span><span class="s1">player</span><span class="s5">.</span><span class="s1">errorString</span>

    <span class="s4">/*! 
        \qmlproperty enumeration Video::availability 
 
        Returns the availability state of the video instance. 
 
        This is one of: 
        \table 
        \header \li Value \li Description 
        \row \li MediaPlayer.Available 
            \li The video player is available to use. 
        \row \li MediaPlayer.Busy 
            \li The video player is usually available, but some other 
               process is utilizing the hardware necessary to play media. 
        \row \li MediaPlayer.Unavailable 
            \li There are no supported video playback facilities. 
        \row \li MediaPlayer.ResourceMissing 
            \li There is one or more resources missing, so the video player cannot 
               be used.  It may be possible to try again at a later time. 
        \endtable 
     */</span>
    <span class="s1">property alias availability</span><span class="s5">:    </span><span class="s1">player</span><span class="s5">.</span><span class="s1">availability</span>

    <span class="s4">/*! 
        \qmlproperty bool Video::hasAudio 
 
        This property holds whether the current media has audio content. 
    */</span>
    <span class="s1">property alias hasAudio</span><span class="s5">:        </span><span class="s1">player</span><span class="s5">.</span><span class="s1">hasAudio</span>

    <span class="s4">/*! 
        \qmlproperty bool Video::hasVideo 
 
        This property holds whether the current media has video content. 
    */</span>
    <span class="s1">property alias hasVideo</span><span class="s5">:        </span><span class="s1">player</span><span class="s5">.</span><span class="s1">hasVideo</span>

    <span class="s4">/*! 
        \qmlproperty object Video::metaData 
 
        This property holds the meta data for the current media. 
 
        See \l{MediaPlayer::metaData}{MediaPlayer.metaData} for details about each meta data key. 
 
        \sa {QMediaMetaData} 
    */</span>
    <span class="s1">property alias metaData</span><span class="s5">:        </span><span class="s1">player</span><span class="s5">.</span><span class="s1">metaData</span>

    <span class="s4">/*! 
        \qmlproperty bool Video::muted 
 
        This property holds whether the audio output is muted. 
    */</span>
    <span class="s1">property alias muted</span><span class="s5">:           </span><span class="s1">player</span><span class="s5">.</span><span class="s1">muted</span>

    <span class="s4">/*! 
        \qmlproperty real Video::playbackRate 
 
        This property holds the rate at which video is played at as a multiple 
        of the normal rate. 
    */</span>
    <span class="s1">property alias playbackRate</span><span class="s5">:    </span><span class="s1">player</span><span class="s5">.</span><span class="s1">playbackRate</span>

    <span class="s4">/*! 
        \qmlproperty int Video::position 
 
        This property holds the current playback position in milliseconds. 
 
        To change this position, use the \l seek() method. 
 
        \sa seek() 
    */</span>
    <span class="s1">property alias position</span><span class="s5">:        </span><span class="s1">player</span><span class="s5">.</span><span class="s1">position</span>

    <span class="s4">/*! 
        \qmlproperty enumeration Video::audioRole 
 
        This property holds the role of the audio stream. It can be set to specify the type of audio 
        being played, allowing the system to make appropriate decisions when it comes to volume, 
        routing or post-processing. 
 
        The audio role must be set before setting the source property. 
 
        Supported values can be retrieved with supportedAudioRoles(). 
 
        The value can be one of: 
        \list 
        \li MediaPlayer.UnknownRole - the role is unknown or undefined. 
        \li MediaPlayer.MusicRole - music. 
        \li MediaPlayer.VideoRole - soundtrack from a movie or a video. 
        \li MediaPlayer.VoiceCommunicationRole - voice communications, such as telephony. 
        \li MediaPlayer.AlarmRole - alarm. 
        \li MediaPlayer.NotificationRole - notification, such as an incoming e-mail or a chat request. 
        \li MediaPlayer.RingtoneRole - ringtone. 
        \li MediaPlayer.AccessibilityRole - for accessibility, such as with a screen reader. 
        \li MediaPlayer.SonificationRole - sonification, such as with user interface sounds. 
        \li MediaPlayer.GameRole - game audio. 
        \li MediaPlayer.CustomRole - The role is specified by customAudioRole. 
        \endlist 
 
        customAudioRole is cleared when this property is set to anything other than CustomRole. 
 
        \since 5.6 
    */</span>
    <span class="s1">property alias audioRole</span><span class="s5">:       </span><span class="s1">player</span><span class="s5">.</span><span class="s1">audioRole</span>

    <span class="s4">/*! 
        \qmlproperty string Video::customAudioRole 
 
        This property holds the role of the audio stream when the backend supports audio roles 
        unknown to Qt. It can be set to specify the type of audio being played, allowing the 
        system to make appropriate decisions when it comes to volume, routing or post-processing. 
 
        The audio role must be set before setting the source property. 
 
        audioRole is set to CustomRole when this property is set. 
 
        \since 5.11 
    */</span>
    <span class="s1">property alias customAudioRole</span><span class="s5">: </span><span class="s1">player</span><span class="s5">.</span><span class="s1">customAudioRole</span>

    <span class="s4">/*! 
        \qmlproperty bool Video::seekable 
 
        This property holds whether the playback position of the video can be 
        changed. 
 
        If true, calling the \l seek() method will cause playback to seek to the new position. 
    */</span>
    <span class="s1">property alias seekable</span><span class="s5">:        </span><span class="s1">player</span><span class="s5">.</span><span class="s1">seekable</span>

    <span class="s4">/*! 
        \qmlproperty url Video::source 
 
        This property holds the source URL of the media. 
 
        Setting the \l source property clears the current \l playlist, if any. 
    */</span>
    <span class="s1">property alias source</span><span class="s5">:          </span><span class="s1">player</span><span class="s5">.</span><span class="s1">source</span>

    <span class="s4">/*! 
        \qmlproperty Playlist Video::playlist 
 
        This property holds the playlist used by the media player. 
 
        Setting the \l playlist property resets the \l source to an empty string. 
 
        \since 5.6 
    */</span>
    <span class="s1">property alias playlist</span><span class="s5">:        </span><span class="s1">player</span><span class="s5">.</span><span class="s1">playlist</span>

    <span class="s4">/*! 
        \qmlproperty enumeration Video::status 
 
        This property holds the status of media loading. It can be one of: 
 
        \list 
        \li MediaPlayer.NoMedia - no media has been set. 
        \li MediaPlayer.Loading - the media is currently being loaded. 
        \li MediaPlayer.Loaded - the media has been loaded. 
        \li MediaPlayer.Buffering - the media is buffering data. 
        \li MediaPlayer.Stalled - playback has been interrupted while the media is buffering data. 
        \li MediaPlayer.Buffered - the media has buffered data. 
        \li MediaPlayer.EndOfMedia - the media has played to the end. 
        \li MediaPlayer.InvalidMedia - the media cannot be played. 
        \li MediaPlayer.UnknownStatus - the status of the media cannot be determined. 
        \endlist 
    */</span>
    <span class="s1">property alias status</span><span class="s5">:          </span><span class="s1">player</span><span class="s5">.</span><span class="s1">status</span>

    <span class="s4">/*! 
        \qmlproperty real Video::volume 
 
        This property holds the audio volume. 
 
        The volume is scaled linearly from \c 0.0 (silence) to \c 1.0 (full volume). Values outside 
        this range will be clamped. 
 
        The default volume is \c 1.0. 
 
        UI volume controls should usually be scaled nonlinearly. For example, using a logarithmic 
        scale will produce linear changes in perceived loudness, which is what a user would normally 
        expect from a volume control. See \l {QtMultimedia::QtMultimedia::convertVolume()}{QtMultimedia.convertVolume()} 
        for more details. 
    */</span>
    <span class="s1">property alias volume</span><span class="s5">:          </span><span class="s1">player</span><span class="s5">.</span><span class="s1">volume</span>

    <span class="s4">/*! 
        \qmlproperty bool Video::autoPlay 
 
        This property determines whether the media should begin playback automatically. 
 
        Setting to \c true also sets \l autoLoad to \c true. The default is \c false. 
    */</span>
    <span class="s1">property alias autoPlay</span><span class="s5">:        </span><span class="s1">player</span><span class="s5">.</span><span class="s1">autoPlay</span>

    <span class="s4">/*! 
        \qmlproperty int Video::notifyInterval 
 
        The interval at which notifiable properties will update. 
 
        The notifiable properties are \l position and \l bufferProgress. 
 
        The interval is expressed in milliseconds, the default value is 1000. 
 
        \since 5.9 
    */</span>
    <span class="s1">property alias notifyInterval</span><span class="s5">:  </span><span class="s1">player</span><span class="s5">.</span><span class="s1">notifyInterval</span>

    <span class="s4">/*! 
        \qmlproperty int Video::loops 
 
        This property holds the number of times the media is played. A value of \c 0 or \c 1 means 
        the media will be played only once; set to \c MediaPlayer.Infinite to enable infinite looping. 
 
        The value can be changed while the media is playing, in which case it will update 
        the remaining loops to the new value. 
 
        The default is \c 1. 
 
        \since 5.9 
    */</span>
    <span class="s1">property alias loops</span><span class="s5">:           </span><span class="s1">player</span><span class="s5">.</span><span class="s1">loops</span>

    <span class="s4">/*! 
        \qmlsignal Video::paused() 
 
        This signal is emitted when playback is paused. 
 
        The corresponding handler is \c onPaused. 
    */</span>
    <span class="s1">signal paused</span>

    <span class="s4">/*! 
        \qmlsignal Video::stopped() 
 
        This signal is emitted when playback is stopped. 
 
        The corresponding handler is \c onStopped. 
    */</span>
    <span class="s1">signal stopped</span>

    <span class="s4">/*! 
        \qmlsignal Video::playing() 
 
        This signal is emitted when playback is started or continued. 
 
        The corresponding handler is \c onPlaying. 
    */</span>
    <span class="s1">signal playing</span>

    <span class="s1">VideoOutput </span><span class="s5">{</span>
        <span class="s1">id</span><span class="s5">: </span><span class="s1">videoOut</span>
        <span class="s1">anchors</span><span class="s5">.</span><span class="s1">fill</span><span class="s5">: </span><span class="s1">video</span>
        <span class="s1">source</span><span class="s5">: </span><span class="s1">player</span>
    <span class="s5">}</span>

    <span class="s1">MediaPlayer </span><span class="s5">{</span>
        <span class="s1">id</span><span class="s5">: </span><span class="s1">player</span>
        <span class="s1">onPaused</span><span class="s5">:  </span><span class="s1">video</span><span class="s5">.</span><span class="s1">paused</span><span class="s5">()</span>
        <span class="s1">onStopped</span><span class="s5">: </span><span class="s1">video</span><span class="s5">.</span><span class="s1">stopped</span><span class="s5">()</span>
        <span class="s1">onPlaying</span><span class="s5">: </span><span class="s1">video</span><span class="s5">.</span><span class="s1">playing</span><span class="s5">()</span>
    <span class="s5">}</span>

    <span class="s4">/*! 
        \qmlmethod Video::play() 
 
        Starts playback of the media. 
    */</span>
    <span class="s2">function </span><span class="s1">play</span><span class="s5">() {</span>
        <span class="s1">player</span><span class="s5">.</span><span class="s1">play</span><span class="s5">();</span>
    <span class="s5">}</span>

    <span class="s4">/*! 
        \qmlmethod Video::pause() 
 
        Pauses playback of the media. 
    */</span>
    <span class="s2">function </span><span class="s1">pause</span><span class="s5">() {</span>
        <span class="s1">player</span><span class="s5">.</span><span class="s1">pause</span><span class="s5">();</span>
    <span class="s5">}</span>

    <span class="s4">/*! 
        \qmlmethod Video::stop() 
 
        Stops playback of the media. 
    */</span>
    <span class="s2">function </span><span class="s1">stop</span><span class="s5">() {</span>
        <span class="s1">player</span><span class="s5">.</span><span class="s1">stop</span><span class="s5">();</span>
    <span class="s5">}</span>

    <span class="s4">/*! 
        \qmlmethod Video::seek(offset) 
 
        If the \l seekable property is true, seeks the current 
        playback position to \a offset. 
 
        Seeking may be asynchronous, so the \l position property 
        may not be updated immediately. 
 
        \sa seekable, position 
    */</span>
    <span class="s2">function </span><span class="s1">seek</span><span class="s5">(</span><span class="s1">offset</span><span class="s5">) {</span>
        <span class="s1">player</span><span class="s5">.</span><span class="s1">seek</span><span class="s5">(</span><span class="s1">offset</span><span class="s5">);</span>
    <span class="s5">}</span>

    <span class="s4">/*! 
        \qmlmethod list&lt;int&gt; Video::supportedAudioRoles() 
 
        Returns a list of supported audio roles. 
 
        If setting the audio role is not supported, an empty list is returned. 
 
        \since 5.6 
        \sa audioRole 
    */</span>
    <span class="s2">function </span><span class="s1">supportedAudioRoles</span><span class="s5">() {</span>
        <span class="s2">return </span><span class="s1">player</span><span class="s5">.</span><span class="s1">supportedAudioRoles</span><span class="s5">();</span>
    <span class="s5">}</span>

<span class="s5">}</span>
</pre>
</body>
</html>